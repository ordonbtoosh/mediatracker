/* CSS Variables for Theming */
@font-face {
    font-family: 'Momo Trust Sans';
    src: url('fonts/MomoTrustSans-Regular.woff2') format('woff2'),
        url('fonts/MomoTrustSans-Regular.woff') format('woff'),
        url('fonts/MomoTrustSans-Regular.ttf') format('truetype');
    font-weight: 400;
    font-style: normal;
    font-display: swap;
}

:root {
    --bg-color: #000000;
    --hover-color: #ff0000;
    --title-color: #ffffff;
    --text-color: #cccccc;
    --font-family: 'Momo Trust Sans', sans-serif;
    --card-bg: #1a1a1a;
    --border-color: #333333;
    --modal-bg: #2a2a2a;
    --dropdown-color: #ff0000;
}

/* Reset and Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: var(--font-family);
    background-color: var(--bg-color);
    color: var(--text-color);
    line-height: 1.6;
    overflow-y: scroll;
    scrollbar-gutter: stable both-edges;
}

/* App Container - 68% width with 16% gutters on each side */
.app-container {
    width: 68%;
    margin: 0 16%;
    min-height: 100vh;
}

/* Tab background overlay (under content) */
.tab-background {
    position: fixed;
    inset: 0;
    z-index: -1;
    background-repeat: no-repeat;
    background-position: center center;
    background-size: cover;
    pointer-events: none;
    transition: opacity 300ms ease, background-image 300ms ease;
}

/* Ensure app content is above background */
.top-bar,
.app-container,
.home-row,
.library-view,
.insights-view,
.detail-view {
    position: relative;
    z-index: 10;
    background-color: rgba(248, 0, 0, 0);
}

/* Top Bar */
.top-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 0;
    margin-bottom: 1rem;
    position: relative;
    z-index: 9999;
}

/* Make large banner/background elements non-interactive so header controls stay clickable */
.hero-banner,
.banner-image,
.banner-overlay,
.sequels-banner-container,
.sequels-banner-image {
    pointer-events: none;
    z-index: 0;
}

/* Darken banner for items not in library (25% darker = 75% brightness) */
.non-library .hero-banner,
.non-library .banner-image {
    opacity: 0.5;
}

.top-bar-left {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.delete-mode-indicator {
    background: var(--hover-color);
    opacity: 0.2;
    color: var(--text-color);
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: 500;
    min-width: 24px;
    text-align: center;
    border: none;
}

.top-bar-right {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.app-title {
    color: var(--title-color);
    font-size: 1.5rem;
    font-weight: bold;
}

/* Navigation Menu Button */
.nav-menu-btn {
    background: none;
    border: none;
    color: var(--text-color);
    cursor: pointer;
    padding: 0;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    margin-left: 1rem;
}

.nav-menu-btn::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 50%;
    background: transparent;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    transform: scale(0.8);
    opacity: 0;
}

.nav-menu-btn:hover {
    color: var(--hover-color);
}

.nav-menu-btn:hover::before {
    opacity: 0.2;
    transform: scale(1);
}

/* Navigation Menu - Horizontal Expanding Bar */
.nav-slide-menu {
    position: static;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-left: 0;
    background: none;
    border: none;
    border-radius: 0;
    padding: 0;

    /* Hidden state */
    max-width: 0;
    opacity: 0;
    visibility: hidden;
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 10;
    backdrop-filter: none;
}

.nav-slide-menu.show {
    max-width: 600px;
    opacity: 1;
    visibility: visible;
    margin-left: 1rem;
}

.nav-menu-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    width: auto;
    padding: 0.5rem 1rem;
    background: none;
    border: none;
    color: var(--text-color);
    font-size: 0.95rem;
    font-weight: 500;
    cursor: pointer;
    border-radius: 6px;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    text-align: center;
}

.nav-menu-item svg {
    flex-shrink: 0;
    opacity: 0.8;
    transition: opacity 0.2s;
    width: 16px;
    height: 16px;
}

.nav-menu-item:hover {
    background: rgba(255, 255, 255, 0.05);
    color: var(--hover-color);
}

.nav-menu-item:hover svg {
    opacity: 1;
    stroke: var(--hover-color);
}

.nav-menu-item span {
    flex: 0 0 auto;
}

.back-btn {
    background: none;
    border: none;
    color: var(--text-color);
    font-size: 1.4rem;
    cursor: pointer;
    padding: 0;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
}

.back-btn::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 50%;
    background: transparent;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    transform: scale(0.8);
    opacity: 0;
}

.back-btn:hover {
    transform: scale(1.1);
}

.back-btn:hover::before {
    background: var(--hover-color);
    opacity: 0.2;
    transform: scale(1);
}

.search-container {
    position: relative;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.search-icon {
    color: var(--text-color);
    opacity: 0.6;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    flex-shrink: 0;
}

.search-container:hover .search-icon,
.search-container:focus-within .search-icon {
    opacity: 1;
    color: var(--hover-color);
}

.search-input {
    background: transparent !important;
    background-color: transparent !important;
    border: none;
    color: var(--text-color);
    font-size: 1rem;
    padding: 0.5rem;
    outline: none;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    width: 200px;
    border-radius: 4px;
    height: 40px;
    position: relative;
    box-shadow: none !important;
}

.search-input:-webkit-autofill,
.search-input:-webkit-autofill:hover,
.search-input:-webkit-autofill:focus {
    background: transparent !important;
    background-color: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
    -webkit-text-fill-color: var(--text-color) !important;
    transition: background-color 5000s ease-in-out 0s;
}

.search-input:hover {
    transform: scale(1.05);
}

.search-input:hover::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 4px;
    background: var(--hover-color);
    opacity: 0.1;
    pointer-events: none;
}

.search-input:focus {
    transform: scale(1.05);
}

.search-input:focus::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 4px;
    background: var(--hover-color);
    opacity: 0.2;
    pointer-events: none;
}

.search-input::placeholder {
    color: #666;
}

/* Search Category Dropdown */
.search-category-dropdown {
    position: relative;
    display: flex;
    align-items: center;
}

.search-category-btn {
    background: none;
    border: none;
    color: var(--text-color);
    cursor: pointer;
    padding: 0.5rem;
    display: flex;
    align-items: center;
    gap: 0.25rem;
    transition: all 0.3s ease;
    border-radius: 4px;
}

.search-category-btn:hover {
    color: var(--hover-color);
}

.search-category-btn .search-icon {
    width: 16px;
    height: 16px;
}

.search-category-btn .dropdown-arrow {
    width: 10px;
    height: 10px;
    opacity: 0.6;
    transition: transform 0.3s ease;
}

.search-category-dropdown.open .dropdown-arrow {
    transform: rotate(180deg);
}

.search-category-menu {
    position: absolute;
    top: 100%;
    left: 0;
    background: var(--modal-bg);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 0.5rem 0;
    min-width: 160px;
    z-index: 10000;
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: all 0.2s ease;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
}

.search-category-dropdown.open .search-category-menu {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.search-category-option {
    display: block;
    width: 100%;
    padding: 0.6rem 1rem;
    background: none;
    border: none;
    color: var(--text-color);
    font-size: 0.9rem;
    text-align: left;
    cursor: pointer;
    transition: all 0.2s ease;
}

.search-category-option:hover {
    background: rgba(255, 255, 255, 0.1);
    color: var(--hover-color);
}

.search-category-option.active {
    color: var(--hover-color);
    font-weight: 600;
}

.search-category-divider {
    height: 1px;
    background: var(--border-color);
    margin: 0.5rem 0;
}

/* Genre Tags */
.search-filter-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-top: 8px;
}

.genre-tag {
    background: transparent;
    border: 1px solid var(--border-color);
    color: var(--text-color);
    padding: 6px 12px;
    border-radius: 20px;
    cursor: pointer;
    font-size: 0.85rem;
    transition: all 0.2s ease;
}

.genre-tag:hover {
    border-color: var(--hover-color);
    color: var(--hover-color);
    background: rgba(255, 255, 255, 0.05);
}

.genre-tag.active {
    background: var(--hover-color);
    border-color: var(--hover-color);
    color: white;
}

.settings-btn {
    background: none;
    border: none;
    color: var(--text-color);
    font-size: 1.4rem;
    cursor: pointer;
    padding: 0;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
}

.settings-btn::before {
    display: none;
}

.settings-btn:hover {
    color: var(--hover-color);
}

/* Tabs Row - Page Title Mode */
.tabs-row {
    display: flex;
    gap: 0;
    margin-bottom: 2rem;
    margin-top: 4vh;
    justify-content: center;
    position: relative;
    z-index: 9;
}

/* Hide tabs on home tab */
body.tab-home .tabs-row {
    display: none;
}

.tab-btn {
    background: transparent;
    border: none;
    color: var(--text-color);
    font-size: 0.95rem;
    cursor: pointer;
    padding: 12px 32px;
    transition: all 0.3s ease;
    min-width: 120px;
    text-align: center;
    position: relative;
    font-weight: 800;
    letter-spacing: 2px;
    font-family: var(--font-family);
    font-size: 3rem;
}

/* Hide all tabs by default */
.tabs-row .tab-btn {
    display: none;
}

/* Show only the tab that matches the data-active-tab on body */
body[data-active-tab="anime"] .tabs-row .tab-btn[data-tab="anime"],
body[data-active-tab="movies"] .tabs-row .tab-btn[data-tab="movies"],
body[data-active-tab="actors"] .tabs-row .tab-btn[data-tab="actors"],
body[data-active-tab="games"] .tabs-row .tab-btn[data-tab="games"],
body[data-active-tab="tv"] .tabs-row .tab-btn[data-tab="tv"] {
    display: inline-block;
    background-color: rgba(0, 0, 0, 0);

    /* or flex */
}

.tab-btn::after {
    display: none;
}

.tab-btn:hover {
    color: var(--hover-color);
}

/* Active Tab - Styled as Page Title */
.tab-btn.active {
    color: var(--title-color);
    font-size: 2.5rem;
    font-weight: 700;
    cursor: default;
    pointer-events: none;
    padding: 0;
    letter-spacing: 1px;
    text-transform: uppercase;
    text-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
}

/* Controls Row - Sidebar Design */
.controls-row {
    position: fixed;
    left: 2%;
    top: 50%;
    transform: translate(-70%, -30%);
    display: flex;
    flex-direction: column;
    gap: 16px;
    z-index: 30;
}

/* Hide controls on home tab */
body.tab-home .controls-row {
    display: none !important;
}

.controls-left {
    display: flex;
    flex-direction: column;
    gap: 12px;
    align-items: center;
}

.controls-right {
    display: flex;
    flex-direction: column;
    gap: 12px;
    align-items: center;
    margin-top: 20px;
    padding-top: 20px;
    border-top: 1px solid rgba(255, 255, 255, 0.2);
}

.insights-btn,
.sort-btn,
.filter-btn,
.watchlist-toggle-btn,
.collections-btn,
.edit-btn,
.delete-btn,
.add-btn {
    background: transparent;
    border: none;
    color: var(--text-color);
    font-size: 1.2rem;
    cursor: pointer;
    padding: 0;
    width: 48px;
    height: 48px;
    border-radius: 50%;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
}

.insights-btn::before,
.sort-btn::before,
.filter-btn::before,
.watchlist-toggle-btn::before,
.collections-btn::before,
.edit-btn::before,
.delete-btn::before,
.add-btn::before {
    display: none;
}

.insights-btn:hover,
.sort-btn:hover,
.filter-btn:hover,
.watchlist-toggle-btn:hover,
.collections-btn:hover,
.edit-btn:hover,
.delete-btn:hover,
.add-btn:hover {
    color: var(--hover-color);
}

.insights-btn.active,
.watchlist-toggle-btn.active,
.collections-btn.active {
    color: var(--hover-color);
}

/* Separator line above watchlist button */
.watchlist-toggle-btn {
    margin-top: 20px;
}

.watchlist-toggle-btn::after {
    content: '';
    position: absolute;
    top: -10px;
    left: 50%;
    transform: translateX(-50%);
    width: 32px;
    height: 1px;
    background: rgba(255, 255, 255, 0.2);
}

/* Add Dropdown */
.add-dropdown,
.sort-dropdown,
.filter-dropdown {
    position: relative;
}

/* Filter Label */
.filter-label {
    position: fixed;
    left: calc(2% + 60px);
    top: 50%;
    transform: translateY(-50%);
    color: var(--hover-color);
    font-size: 0.85rem;
    font-weight: 500;
    white-space: nowrap;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.filter-label:not(:empty) {
    opacity: 1;
}

.add-menu {
    position: absolute;
    left: calc(100% + 16px);
    top: 0;
    background: var(--dropdown-color);
    padding: 8px;
    min-width: 200px;
    display: none;
    z-index: 1000;
}

.sort-menu,
.filter-menu {
    position: absolute;
    left: calc(100% + 16px);
    top: 0;
    background: var(--dropdown-color);
    padding: 8px;
    min-width: 200px;
    display: none;
    z-index: 1000;
}

.settings-menu {
    position: absolute;
    left: calc(100% + 10px);
    top: 0;
    background: var(--dropdown-color);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 8px;
    min-width: 200px;
    display: none;
    z-index: 1000;
    transform: translate(-70%, 10%);
}

.add-menu {
    min-width: 400px;
    max-width: 450px;
    max-height: 90vh;
    overflow-y: auto;
    padding: 0;
}

.add-menu-header {
    padding: 1rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.add-menu-header h4 {
    color: var(--title-color);
    margin: 0;
    font-size: 1.2rem;
}

.add-menu .modal-tabs {
    margin: 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.add-menu .modal-form {
    padding: 1rem;
}

/* Ensure image action buttons inside the Add New Item menu are visible and high-contrast */
.add-menu .detail-menu-option,
.add-menu .small-btn {
    display: inline-block !important;
    color: var(--title-color) !important;
    background: transparent !important;
    border: 1px solid rgba(255,255,255,0.04);
    padding: 0.35rem 0.6rem;
    border-radius: 4px;
}

.add-menu .detail-menu-option--primary {
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)) !important;
}

.add-menu .api-search-content {
    padding: 1rem;
}

.settings-menu {
    right: 0;
    min-width: 250px;
    max-width: 300px;
}

.sort-menu,
.filter-menu {
    left: calc(100% + 16px);
    top: 0;
}

.add-menu.show,
.sort-menu.show,
.filter-menu.show,
.settings-menu.show {
    display: block;
    width: 100%;
}

/* Allow TMDB select buttons inside the Add menu (show for add-form image selection) */
.add-menu #selectPosterFromTMDB,
.add-menu #selectBannerFromTMDB {
    display: inline-block;
}

.add-option,
.menu-option {
    display: block;
    width: 100%;
    background: transparent;
    border: none;
    color: rgba(255, 255, 255, 0.8);
    padding: 10px 16px;
    text-align: left;
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
    border-radius: 4px;
    font-size: 0.95rem;
}

.add-option::before,
.menu-option::before {
    display: none;
}

.add-option:hover,
.menu-option:hover {
    color: var(--hover-color) !important;
    background: rgba(255, 255, 255, 0.05);
}

.add-option:hover::before,
.menu-option:hover::before {
    opacity: 0.2;
}

/* Detail Settings Dropdown */
.detail-settings-dropdown {
    position: relative;
}

.detail-settings-btn {
    background: none;
    border: none;
    color: var(--text-color);
    font-size: 1.4rem;
    cursor: pointer;
    padding: 0;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    transform: translate(41%);
}

.detail-settings-btn::before {
    display: none;
}

.detail-settings-btn:hover {
    color: var(--hover-color);
}

.detail-settings-menu {
    position: absolute;
    top: 100%;
    right: 0;
    background: var(--dropdown-color);
    border: 1px solid var(--border-color);
    border-radius: 4px;
    padding: 0.5rem 0;
    min-width: 200px;
    display: none;
    z-index: 1000;
    margin-top: 0.5rem;
}

.detail-settings-menu.show {
    display: block;
}

.detail-menu-option {
    display: block;
    width: 100%;
    background: none;
    border: none;
    color: var(--text-color);
    padding: 0.5rem 1rem;
    text-align: left;
    cursor: pointer;
    transition: background-color 0.2s;
    position: relative;
}

.detail-menu-option::before {
    content: '';
    position: absolute;
    inset: 0;
    background: var(--hover-color);
    opacity: 0;
    transition: opacity 0.2s;
    pointer-events: none;
}

.detail-menu-option:hover {
    color: #ffffff !important;
}

.detail-menu-option:hover::before {
    opacity: 0.2;
}

/* Main Content */
.main-content {
    position: relative;
}

/* Grid Layout */
.grid-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 1rem;
    margin-bottom: 2rem;
}

/* Library View - 8 columns grid with empty first and last columns (showing 6 columns) */
.library-view .grid-container {
    grid-template-columns: 1fr repeat(5, 200px) 1fr;

    /* Empty first, 6 content columns, empty last */
    gap: 0.1rem;

    /* Reduced horizontal spacing */
}

/* Library View - Make grid items same size as home posters (200px) but 5% smaller */
.library-view .grid-item {
    width: 200px;
    min-width: 200px;
    max-width: 200px;
    transform: scale(0.95);


    /* 5% smaller */
    display: flex;
    flex-direction: column;
    align-items: center;
}

/* Library View - Hover effect adjusted for scaled items */
.library-view .grid-item:hover {
    transform: scale(1.0);

    /* Slightly larger on hover (0.95 * 1.05 ≈ 1.0) */
}

/* Library View - Position items in 6 columns starting from column 2 */
.library-view .grid-item:nth-child(5n+1) {
    grid-column: 2;
}

/* Items 1, 7, 13... */
.library-view .grid-item:nth-child(5n+2) {
    grid-column: 3;
}

/* Items 2, 8, 14... */
.library-view .grid-item:nth-child(5n+3) {
    grid-column: 4;
}

/* Items 3, 9, 15... */
.library-view .grid-item:nth-child(5n+4) {
    grid-column: 5;
}

/* Items 4, 10, 16... */
.library-view .grid-item:nth-child(5n+5) {
    grid-column: 6;
}

/* Items 5, 11, 17... */
.grid-item {
    position: relative;
    width: 200px;
    min-width: 200px;
    max-width: 200px;
    cursor: pointer;
    transition: transform 0.2s;
    display: flex;
    flex-direction: column;
    gap: 0;
}

.grid-item-with-rank {
    gap: 0.5rem;
}

.grid-item:hover {
    transform: scale(1.05);
}

.grid-item-visual {
    position: relative;
    width: 90%;
    aspect-ratio: 2/3;
    border-radius: 8px;
    overflow: hidden;
}

.grid-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: filter 0.2s;
}

.grid-item:hover .grid-item-visual img {
    filter: brightness(0.8);
}

.grid-item-overlay {
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.2s;
    pointer-events: none;
}

.grid-item:hover .grid-item-overlay {
    opacity: 1;
}

.grid-item-name {
    color: white;
    font-weight: bold;
    text-align: center;
    padding: 1rem;
    width: min(220px, 100%);
}

.grid-item-collection-count {
    color: rgba(255, 255, 255, 0.8);
    font-size: 0.85rem;
    font-weight: normal;
    margin-top: 0.25rem;
    text-align: center;
    width: 100%;
}

.grid-item-actor-roles {
    width: 100%;
    text-align: center;
    font-size: 0.8rem;
    color: rgba(255, 255, 255, 0.65);
    letter-spacing: 0.04em;
    opacity: 0.85;
    margin-top: 0.15rem;
}

.grid-item-rank {
    width: 100;
    display: flex;
    justify-content: space-between;
    align-items: center;
    color: rgba(255, 255, 255, 0.6);
    font-size: 0.75rem;
    letter-spacing: 0.05em;
    gap: 0.5rem;
}

.grid-item-rank-stars {
    display: flex;
    justify-content: center;
    gap: 0.15rem;
}

.grid-item-user-score {
    font-size: 0.7rem;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: rgba(255, 255, 255, 0.7);
}

.grid-item-rank-star {
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.25);
    position: relative;
    line-height: 1;
}

.grid-item-rank-star.filled {
    color: rgba(255, 255, 255, 0.65);
}

.grid-item-rank-star.half {
    color: rgba(255, 255, 255, 0.25);
}

.grid-item-rank-star.half::after {
    content: '★';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    color: rgba(255, 255, 255, 0.65);
    clip-path: inset(0 50% 0 0);
}

.collection-item {
    position: relative;
    border: none;
    box-sizing: border-box;
}

.collection-buttons-container {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-left: auto;
}

.add-items-to-collection-btn {
    display: none;
    align-items: center;
    justify-content: center;
    background: none;
    color: var(--text-color);
    border: none;
    padding: 0.25rem;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    cursor: pointer;
    font-size: 0.9rem;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
}

.change-collection-poster-btn,
.change-collection-banner-btn {
    position: relative;
}

.collection-banner-dropdown,
.collection-poster-dropdown {
    position: relative;
    display: inline-block;
}

.collection-banner-menu,
.collection-poster-menu {
    position: absolute;
    bottom: 100%;
    right: 0;
    background: var(--dropdown-color);
    border: 1px solid var(--border-color);
    border-radius: 4px;
    padding: 0.5rem 0;
    min-width: 180px;
    display: none;
    z-index: 1000;
    margin-bottom: 0.5rem;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
}

.collection-banner-menu.show,
.collection-poster-menu.show {
    display: block;
}

.banner-menu-option,
.poster-menu-option {
    display: block;
    width: 100%;
    background: none;
    border: none;
    color: var(--text-color);
    padding: 0.5rem 1rem;
    text-align: left;
    cursor: pointer;
    transition: background-color 0.2s;
    position: relative;
}

.banner-menu-option::before,
.poster-menu-option::before {
    content: '';
    position: absolute;
    inset: 0;
    background: var(--hover-color);
    opacity: 0;
    transition: opacity 0.2s;
    pointer-events: none;
}

.banner-menu-option:hover,
.poster-menu-option:hover {
    color: #ffffff !important;
}

.banner-menu-option:hover::before,
.poster-menu-option:hover::before {
    opacity: 0.2;
}

.add-items-to-collection-btn::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 50%;
    background: transparent;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    transform: scale(0.8);
    opacity: 0;
}

.add-items-to-collection-btn:hover {
    transform: scale(1.1);
}

.add-items-to-collection-btn:hover::before {
    background: var(--hover-color);
    opacity: 0.2;
    transform: scale(1);
}

.add-items-to-collection-btn svg {
    width: 16px;
    height: 16px;
    flex-shrink: 0;
}

.sequels-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
    flex-wrap: wrap;
}

/* Context Menu */
.anime-context-menu {
    position: fixed;
    background: var(--dropdown-color);
    border: 1px solid var(--border-color);
    border-radius: 4px;
    padding: 0.5rem 0;
    min-width: 250px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
    z-index: 10000;
}

.context-menu-item {
    display: block;
    width: 100%;
    background: none;
    border: none;
    color: var(--text-color);
    padding: 0.75rem 1rem;
    text-align: left;
    cursor: pointer;
    transition: background-color 0.2s;
    font-family: inherit;
    font-size: 0.95rem;
    position: relative;
}

.context-menu-item::before {
    content: '';
    position: absolute;
    inset: 0;
    background: var(--hover-color);
    opacity: 0;
    transition: opacity 0.2s;
    pointer-events: none;
}

.context-menu-item:hover {
    color: #ffffff !important;
}

.context-menu-item:hover::before {
    opacity: 0.2;
}

.context-menu-item:first-child {
    border-top-left-radius: 4px;
    border-top-right-radius: 4px;
}

.context-menu-item:last-child {
    border-bottom-left-radius: 4px;
    border-bottom-right-radius: 4px;
}

/* Delete Mode */
.grid-item.delete-mode {
    border: 2px solid var(--hover-color);
}

.grid-item.selected {
    border: 2px solid var(--hover-color);
    background-color: rgba(255, 0, 0, 0.2);
}

.delete-checkbox-overlay {
    position: absolute;
    top: 0.5rem;
    left: 0.5rem;
    z-index: 10;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.7);
    border-radius: 4px;
    padding: 0;
    border: none;
    transition: background 0.2s;
    width: 22.8px;
    height: 22.8px;
}

.grid-item.selected .delete-checkbox-overlay,
.delete-checkbox-overlay:has(.delete-checkbox:checked) {
    background: rgba(255, 0, 0, 0.8);
}

.delete-checkbox {
    width: 22.8px;
    height: 22.8px;
    cursor: pointer;
    accent-color: #ff0000;
    border: none;
    outline: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    background-color: transparent;
    position: relative;
    margin: 0;
    padding: 0;
}

.delete-checkbox::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 22.8px;
    height: 22.8px;
    border: 2px solid rgba(255, 255, 255, 0.5);
    border-radius: 4px;
    background-color: transparent;
    transition: all 0.2s;
    box-sizing: border-box;
}

.delete-checkbox:checked::before {
    background-color: #ff0000;
    border-color: #ff0000;
}

.delete-checkbox:checked::after {
    content: '✓';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    font-size: 14.4px;
    font-weight: bold;
    line-height: 1;
}

.delete-checkbox:focus {
    outline: none;
    border: none;
}

.delete-controls {
    position: fixed;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%);
    background: var(--modal-bg);
    padding: 0.5rem;
    border-radius: 4px;
    border: none;
    display: flex;
    gap: 0.5rem;
    z-index: 1000;
}

.confirm-delete-btn,
.cancel-delete-btn {
    background: none;
    border: none;
    color: var(--text-color);
    padding: 0.5rem 0.75rem;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.9rem;
}

.confirm-delete-btn,
.cancel-delete-btn {
    position: relative;
}

.confirm-delete-btn::before,
.cancel-delete-btn::before {
    content: '';
    position: absolute;
    inset: 0;
    background: var(--hover-color);
    opacity: 0;
    transition: opacity 0.2s;
    pointer-events: none;
    border-radius: 4px;
}

.confirm-delete-btn:hover,
.cancel-delete-btn:hover {
    color: #ffffff !important;
}

.confirm-delete-btn:hover::before,
.cancel-delete-btn:hover::before {
    opacity: 0.2;
}

.confirm-delete-btn svg,
.cancel-delete-btn svg {
    width: 20px;
    height: 20px;
    flex-shrink: 0;
}

/* Detail View */
.detail-view {
    margin-top: 0;
    margin-bottom: 2rem;
    position: relative;
}

/* Sequels View */
.sequels-view {
    padding: 2rem;
    position: relative;
}

/* Sequels View - 7 columns grid for collection detail view */
.sequels-view .grid-container {
    grid-template-columns: repeat(7, 1fr);
    gap: 0.75rem;
}

/* Sequels View - Make grid items same size as home posters (200px) */
.sequels-view .grid-item {
    width: 200px;
    min-width: 200px;
    max-width: 200px;
    aspect-ratio: 2/3;
}

.sequels-banner-container {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    width: 100%;
    height: 300px;
    overflow: hidden;
    z-index: 0;
}

.sequels-banner-container.wild-banner {
    background: linear-gradient(135deg, var(--bg-color) 0%, var(--hover-color) 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: opacity 0.3s;
    position: relative;
}

.sequels-banner-container.wild-banner:hover {
    opacity: 0.9;
}

.sequels-banner-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.sequels-banner-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(to bottom, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.7));
    pointer-events: none;
}

.sequels-view.has-banner .sequels-header {
    position: relative;
    z-index: 1;
    margin-top: 320px;
}

.sequels-view.has-banner .grid-container {
    margin-top: 2rem;
}

.sequels-header {
    margin-bottom: 2rem;
    position: relative;
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 0.5rem;
}

.sequels-header h2 {
    color: var(--title-color);
    font-size: 2rem;
    margin: 0;
    display: inline-flex;
    align-items: center;
    margin-right: 0;
}

.sequels-info-label {
    color: var(--text-color);
    font-size: 0.85rem;
    opacity: 0.8;
}

#sequelsItemCount {
    position: static !important;
    margin-left: 0.75rem;
    font-size: 0.9rem;
    opacity: 0.8;
    display: inline-block;
    vertical-align: baseline;
    margin-top: 0.3rem;
}

#sequelsCompletionRate {
    position: absolute;
    top: 0;
    right: 0;
}

/* Collection View */
.collection-view {
    padding: 1rem 2rem;
    overflow-x: hidden;
}

.collection-view .grid-container {
    grid-template-columns: repeat(7, minmax(0, 1fr));
    gap: 0.375rem;
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    margin-bottom: 2rem;
}

/* Completely override base grid-item styles for collection view */
.collection-view .grid-container .grid-item {
    width: 200px !important;
    min-width: 200px !important;
    max-width: 200px !important;
    box-sizing: border-box;
    aspect-ratio: 2/3;
}

.collection-header {
    margin-bottom: 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 0.5rem;
}

.collection-header h2 {
    color: var(--title-color);
    font-size: 1.2rem;
    margin: 0;
}

.collection-actions {
    display: flex;
    gap: 0.5rem;
    align-items: center;
}

.collection-name-input {
    background: transparent;
    border: none;
    color: var(--text-color);
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-size: 0.9rem;
    min-width: 150px;
    max-width: 200px;
}

.collection-name-input:focus {
    outline: none;
    background: rgba(255, 255, 255, 0.05);
}

/* Search View */
.search-view {
    padding: 2rem;
    max-width: 100%;
    min-height: 100vh;
}

.search-view-content {
    display: flex;
    gap: 2rem;
    align-items: flex-start;
}

/* Search Filters Sidebar */
.search-filters-sidebar {
    width: 380px;
    min-width: 380px;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 1.5rem;
    position: sticky;
    top: 2rem;
    max-height: calc(100vh - 4rem);
    overflow-y: auto;
    overflow-x: hidden;
}

/* Custom scrollbar for filter sidebar */
.search-filters-sidebar::-webkit-scrollbar {
    width: 8px;
}

.search-filters-sidebar::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 4px;
}

.search-filters-sidebar::-webkit-scrollbar-thumb {
    background: var(--hover-color);
    border-radius: 4px;
    opacity: 0.5;
}

.search-filters-sidebar::-webkit-scrollbar-thumb:hover {
    opacity: 0.8;
}

.search-filters-title {
    color: var(--title-color);
    font-size: 1.5rem;
    margin-bottom: 1.5rem;
    padding-bottom: 0.75rem;
    border-bottom: 2px solid var(--hover-color);
}

.search-filter-group {
    margin-bottom: 1.5rem;
}

.search-filter-label {
    display: block;
    color: var(--text-color);
    font-size: 0.9rem;
    font-weight: 500;
    margin-bottom: 0.5rem;
}

.search-filter-input,
.search-filter-select {
    width: 100%;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--border-color);
    border-radius: 4px;
    color: var(--text-color);
    padding: 0.5rem 0.75rem;
    font-size: 0.9rem;
    transition: all 0.2s;
    box-sizing: border-box;
    font-family: var(--font-family);
}

.search-filter-input:focus,
.search-filter-select:focus {
    outline: none;
    border-color: var(--hover-color);
    background: rgba(255, 255, 255, 0.08);
    box-shadow: 0 0 0 2px rgba(255, 0, 0, 0.1);
}

.search-filter-input::placeholder {
    color: rgba(255, 255, 255, 0.4);
}

.search-filter-select {
    cursor: pointer;
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23cccccc' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 0.75rem center;
    padding-right: 2.5rem;
}

.search-filter-select:hover {
    background-color: rgba(255, 255, 255, 0.08);
}

/* When select is a button (custom dropdown) */
button.search-filter-select {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--border-color);
    border-radius: 4px;
    color: var(--text-color);
    padding: 0.5rem 0.75rem;
    font-size: 0.9rem;
    transition: all 0.2s;
    width: 100%;
    text-align: left;
}

button.search-filter-select:hover {
    background-color: rgba(255, 255, 255, 0.08);
}

button.search-filter-select:focus {
    outline: none;
    border-color: var(--hover-color);
    background: rgba(255, 255, 255, 0.08);
    box-shadow: 0 0 0 2px rgba(255, 0, 0, 0.1);
}

/* Style select options to match theme - Note: Browser support is limited */
.search-filter-select option {
    background: var(--card-bg) !important;
    color: var(--text-color) !important;
    padding: 0.5rem;
}

/* For browsers that support it, style checked option */
.search-filter-select option:checked {
    background: var(--hover-color) !important;
    color: var(--title-color) !important;
}

/* Additional styling for better browser compatibility */
.search-filter-select::-ms-expand {
    display: none;

    /* Hide IE/Edge default arrow */
}

/* Webkit browsers (Chrome, Safari, Edge) - very limited support */
.search-filter-select option {
    background-color: var(--card-bg);
    color: var(--text-color);
}

/* Firefox specific styling */
@supports (-moz-appearance: none) {
    .search-filter-select {
        background-color: rgba(255, 255, 255, 0.05);
    }

    .search-filter-select option {
        background-color: var(--card-bg);
        color: var(--text-color);
    }

    .search-filter-select option:checked {
        background-color: var(--hover-color);
        color: var(--title-color);
    }
}

/* Custom dropdown menu for select (to override browser defaults) */
.search-filter-select-wrapper {
    position: relative;
    width: 100%;
}

.search-filter-select-menu {
    position: absolute;
    top: calc(100% + 0.25rem);
    left: 0;
    right: 0;
    width: 100%;
    background: var(--dropdown-color);
    border: 1px solid var(--border-color);
    border-radius: 4px;
    padding: 0.5rem 0;
    display: none;
    z-index: 1001;
    max-height: 300px;
    overflow-y: auto;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
}

.search-filter-select-menu.show {
    display: block;
}

.search-filter-select-option {
    display: block;
    width: 100%;
    background: none;
    border: none;
    color: var(--text-color);
    padding: 0.5rem 1rem;
    text-align: left;
    cursor: pointer;
    transition: background-color 0.2s;
    position: relative;
}

.search-filter-select-option::before {
    content: '';
    position: absolute;
    inset: 0;
    background: var(--hover-color);
    opacity: 0;
    transition: opacity 0.2s;
    pointer-events: none;
}

.search-filter-select-option:hover {
    color: #ffffff !important;
}

.search-filter-select-option:hover::before {
    opacity: 0.2;
}

.search-filter-select-option.selected {
    background: var(--hover-color);
    opacity: 0.3;
    color: var(--title-color);
}

.search-filter-select-option.selected::before {
    opacity: 0.3;
}

.search-filter-range,
.search-filter-date {
    display: flex;
    gap: 0.5rem;
    align-items: center;
    flex-wrap: nowrap;
    width: 100%;
}

.search-filter-range input,
.search-filter-date input {
    flex: 1;
    min-width: 0;
    box-sizing: border-box;
}

/* Date range inputs - stacked vertically */
.search-filter-date-range {
    display: flex;
    flex-direction: column;
    align-items: stretch;
    gap: 0.5rem;
    width: 100%;
}

.search-filter-date-range input[type="date"] {
    width: 100%;
    min-width: 0;
    box-sizing: border-box;
    position: relative;
    z-index: 1;
}

/* Ensure both date inputs are fully accessible and clickable */
.search-filter-date-range input[type="date"]:not(:disabled) {
    pointer-events: auto;
    cursor: text;
}

/* Calendar picker indicator */
.search-filter-date-range input[type="date"]::-webkit-calendar-picker-indicator {
    cursor: pointer;
    opacity: 1;
    z-index: 2;
}

.search-filter-range-separator {
    color: var(--text-color);
    opacity: 0.6;
    font-weight: bold;
}

.search-filter-actions {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    margin-top: 2rem;
    padding-top: 1.5rem;
    border-top: 1px solid var(--border-color);
}

.search-filter-btn {
    padding: 0.75rem 1rem;
    border: none;
    border-radius: 4px;
    font-size: 0.9rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
    text-align: center;
}

.search-filter-btn-primary {
    background: var(--hover-color);
    color: #ffffff;
}

.search-filter-btn-primary:hover {
    background: var(--hover-color);
    opacity: 0.9;
    transform: scale(1.02);
}

.search-filter-btn-secondary {
    background: rgba(255, 255, 255, 0.05);
    color: var(--text-color);
    border: 1px solid var(--border-color);
}

.search-filter-btn-secondary:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: var(--hover-color);
}

/* Search Results Wrapper */
.search-results-wrapper {
    flex: 1;
    min-width: 0;
}

.search-header {
    margin-bottom: 2rem;
}

.search-header h2 {
    color: var(--title-color);
    font-size: 2rem;
    margin-bottom: 0.5rem;
}

.search-query {
    color: var(--text-color);
    font-size: 1.2rem;
    opacity: 0.8;
}

.search-results-container {
    display: flex;
    flex-direction: column;
    gap: 3rem;
}

.search-section {
    margin-bottom: 2rem;
}

.search-section-title {
    color: var(--title-color);
    font-size: 1.5rem;
    margin-bottom: 1.5rem;
    padding-bottom: 0.5rem;
    border-bottom: 2px solid var(--hover-color);
}

.search-view .grid-container {
    display: grid;
    grid-template-columns: 1fr repeat(6, 1fr) 1fr;

    /* Match library view layout */
    gap: 0.3rem;

    /* Reduced horizontal spacing */
    margin-bottom: 2rem;
}

.search-view .grid-item {
    position: relative;
    width: 200px;
    min-width: 200px;
    max-width: 200px;
    cursor: pointer;
    transition: transform 0.2s;
    transform: scale(0.95);

    /* Match library view scale */
}

.search-view .grid-item .grid-item-visual {
    border-radius: 8px;
    overflow: hidden;
}

.search-view .grid-item:hover {
    transform: scale(1.0);

    /* Slightly larger on hover */
}

/* Position items in 6 columns starting from column 2 */
.search-view .grid-item:nth-child(6n+1) {
    grid-column: 2;
}

.search-view .grid-item:nth-child(6n+2) {
    grid-column: 3;
}

.search-view .grid-item:nth-child(6n+3) {
    grid-column: 4;
}

.search-view .grid-item:nth-child(6n+4) {
    grid-column: 5;
}

.search-view .grid-item:nth-child(6n+5) {
    grid-column: 6;
}

.search-view .grid-item:nth-child(6n+6) {
    grid-column: 7;
}

.search-view .grid-item:hover img {
    filter: brightness(0.7);
}

.search-view .grid-item-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.9), transparent);
    padding: 1rem;
    color: var(--title-color);
    opacity: 0;
    transition: opacity 0.2s;
}

.search-view .grid-item:hover .grid-item-overlay {
    opacity: 1;
}

.search-view .grid-item-title {
    font-size: 0.9rem;
    font-weight: bold;
    margin-bottom: 0.25rem;
}

.search-view .grid-item-rating {
    font-size: 0.8rem;
    color: var(--text-color);
    opacity: 0.9;
}

.collection-name-input:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.save-collection-btn {
    background: none;
    color: var(--text-color);
    border: none;
    padding: 0.25rem 0.75rem;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.9rem;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.save-collection-btn {
    position: relative;
}

.save-collection-btn::before {
    content: '';
    position: absolute;
    inset: 0;
    background: var(--hover-color);
    opacity: 0;
    transition: opacity 0.2s;
    pointer-events: none;
    border-radius: 4px;
}

.save-collection-btn:hover {
    color: #ffffff !important;
}

.save-collection-btn:hover::before {
    opacity: 0.2;
}

.collection-search-bar {
    margin-bottom: 1rem;
}

.collection-search-input {
    background: transparent;
    border: none;
    color: var(--text-color);
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-size: 0.9rem;
    width: 100%;
}

.collection-search-input:focus {
    outline: none;
    background: rgba(255, 255, 255, 0.05);
}

.grid-item.collection-selected {
    border: 3px solid var(--hover-color);
    box-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
}

.detail-poster-container {
    position: relative;
    flex-shrink: 0;
}

/* Watchlist Button */
.watchlist-btn {
    position: absolute;
    right: -100px;
    top: 450px;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 10px 16px;
    background: transparent;
    border: 2px solid var(--theme-text-color);
    border-radius: 8px;
    color: var(--theme-text-color);
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
    white-space: nowrap;
    transform: translateX(-10%);
}

.watchlist-btn svg {
    width: 20px;
    height: 20px;
    stroke: currentColor;
    transition: all 0.3s ease;
}

.watchlist-btn:hover {
    border-color: #ffd700;
    color: #ffd700;
}

.watchlist-btn.in-watchlist {
    border-color: #ffd700;
    color: #ffd700;
}

.watchlist-btn.in-watchlist svg {
    fill: #ffd700;
    stroke: #ffd700;
}

.watchlist-btn:active {
    transform: translateY(0);
}

.watchlist-btn-text {
    user-select: none;
}

.actor-info {
    margin-top: 1rem;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.actor-roles {
    display: flex;
    flex-wrap: wrap;
    gap: 0.4rem;
    font-size: 0.85rem;
    color: rgba(255, 255, 255, 0.75);
}

.actor-role-chip {
    letter-spacing: 0.05em;
    text-transform: uppercase;
    font-size: 0.7rem;
    color: rgba(236, 10, 10, 0);
}

.actor-social-media {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    transform: translate(0%, -45%);
}

.actor-social-media a {
    color: var(--text-color);
    text-decoration: none;
    font-size: 0.9rem;
    transition: color 0.2s;
}

.actor-social-media a:hover {}

/* Center social media links under actor poster in actor detail view */
.detail-content.actor-layout .detail-poster-container {
    display: flex;
    flex-direction: column;
    align-items: center;
}

.detail-content.actor-layout .actor-info {
    width: 100%;
    margin-top: 1rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
}

.detail-content.actor-layout .actor-roles {
    justify-content: center;
}

.detail-content.actor-layout .actor-social-media {
    justify-content: center;
}

.detail-meta-with-score {
    display: flex;
    align-items: center;
    gap: 1.5rem;
    margin-bottom: 1.5rem;
    flex-wrap: nowrap;
}

.detail-meta-with-score .detail-meta {
    margin-bottom: 0;
    display: flex;
    align-items: center;
    opacity: 0.65;
}

.detail-score-circle {
    position: relative;
    width: 52px;
    height: 52px;
    flex-shrink: 0;
    background-color: #404040;
    border-radius: 50%;
}

.score-svg {
    width: 100%;
    height: 100%;
    transform: rotate(-90deg);
}

.score-circle-bg {
    fill: none;
    stroke: var(--border-color);
    stroke-width: 8;
}

.score-circle-fill {
    fill: none;
    stroke: var(--hover-color);
    stroke-width: 8;
    stroke-linecap: round;
    stroke-dasharray: 283;
    stroke-dashoffset: 283;
    transition: stroke-dashoffset 0.5s ease, stroke 0.3s ease;
}

/* Score color classes based on score ranges */
.score-circle-fill.score-excellent {
    stroke: #00A86B;

    /* 90-100 */
}

.score-circle-fill.score-good {
    stroke: #3F704D;

    /* 70-90 */
}

.score-circle-fill.score-yellow {
    stroke: #D1B31D;

    /* 50-70 */
}

.score-circle-fill.score-red {
    stroke: #B34224;

    /* 0-50 */
}

.score-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    display: flex;
    align-items: baseline;
    justify-content: center;
    gap: 0;
    white-space: nowrap;
}

.score-number {
    font-size: 0.95rem;
    font-weight: 900;
    color: #ffffff;
    line-height: 1;
    text-shadow: -1px 0 1px rgba(0, 150, 255, 0.8),
        1px 0 1px rgba(255, 100, 0, 0.8),
        -0.5px 0 0.5px rgba(0, 150, 255, 0.6),
        0.5px 0 0.5px rgba(255, 100, 0, 0.6);
}

.score-percent {
    font-size: 0.52rem;
    color: #ffffff;
    line-height: 1;
    text-shadow: -1px 0 1px rgba(0, 150, 255, 0.8),
        1px 0 1px rgba(255, 100, 0, 0.8),
        -0.5px 0 0.5px rgba(0, 150, 255, 0.6),
        0.5px 0 0.5px rgba(255, 100, 0, 0.6);
}

.cast-characters-container {
    margin-top: 0;
}

.cast-characters-container h3 {
    color: var(--title-color);
    font-size: 1.5rem;
    margin-bottom: 1rem;
    font-weight: bold;
}

.cast-characters-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 1rem;
}

/* For TV Series and Movies: prepare grid content below the poster */
.detail-content:not(.actor-layout) {
    width: 100%;
    gap: 2rem;
}

.detail-content:not(.actor-layout) .detail-info {
    display: flex;
    flex-direction: column;
    min-width: 0;
    max-height: fit-content;
}

.detail-content:not(.actor-layout) .detail-description {
    margin-bottom: 0.75rem;
}

.detail-content:not(.actor-layout) .detail-sidebar-column {
    display: flex;
    flex-direction: column;
    gap: 2rem;
    align-self: stretch;
}

.detail-content:not(.actor-layout) .cast-characters-container {
    align-self: flex-start;
    transform: none;
}

.detail-content:not(.actor-layout) .cast-characters-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 0.75rem;
}

/* For Anime: Position sequel and prequel posters below main column */
.detail-content:not(.actor-layout) .anime-relations-container {
    margin: 0;
    align-self: start;
    transform: none;
    display: flex;
    flex-wrap: nowrap;
    gap: 0.25rem;
    align-items: flex-start;
    width: 100%;
}

/* Ensure anime relations container is visible when displayed */
.anime-relations-container[style*="flex"],
.anime-relations-container[style*="block"] {
    display: flex !important;
}

.detail-content:not(.actor-layout) .anime-sequel-container,
.detail-content:not(.actor-layout) .anime-prequel-container {
    margin-top: 0;
    margin-left: 0;
    transform: none;
    flex: 0 0 auto;
    min-width: 140px;
    max-width: 320px;
    width: auto;
}

.detail-content:not(.actor-layout) .anime-prequel-container {
    transform: translateX(-1%);
}

.detail-content:not(.actor-layout) .anime-sequel-container h3,
.detail-content:not(.actor-layout) .anime-prequel-container h3 {
    font-size: 1.2rem;
    margin-bottom: 0.75rem;
    color: var(--title-color);
    font-weight: bold;
}

.detail-content:not(.actor-layout) .anime-sequel-grid,
.detail-content:not(.actor-layout) .anime-prequel-grid {
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 0.75rem;
}

.detail-content:not(.actor-layout) .anime-sequel-grid img,
.detail-content:not(.actor-layout) .anime-prequel-grid img {
    width: 100%;
    aspect-ratio: 2/3;
    object-fit: cover;
    border-radius: 4px;
    cursor: pointer;
    transition: transform 0.2s, filter 0.2s;
}

.detail-content:not(.actor-layout) .anime-sequel-grid img:hover,
.detail-content:not(.actor-layout) .anime-prequel-grid img:hover {
    transform: scale(1.05);
    filter: brightness(0.7);
}

/* Game Relations Container (similar to anime relations) */
.detail-content:not(.actor-layout) .game-relations-container {
    margin: 0;
    align-self: start;
    transform: none;
    display: flex;
    flex-wrap: nowrap;
    gap: 0.25rem;
    align-items: flex-start;
    width: 100%;
}

/* Ensure game relations container is visible when displayed */
.game-relations-container[style*="flex"],
.game-relations-container[style*="block"] {
    display: flex !important;
}

.detail-content:not(.actor-layout) .game-dlc-container,
.detail-content:not(.actor-layout) .game-similar-container {
    margin-top: 0;
    margin-left: 0;
    transform: none;
    flex: 0 0 auto;
    min-width: 140px;
    max-width: 320px;
    width: auto;
}

/* DLC container needs more width to accommodate 10% bigger items */
.detail-content:not(.actor-layout) .game-dlc-container {
    max-width: 352px;

    /* 320px * 1.1 = 352px */
}

.detail-content:not(.actor-layout) .game-similar-container {
    transform: translateX(-1%);
}

.detail-content:not(.actor-layout) .game-dlc-container h3,
.detail-content:not(.actor-layout) .game-similar-container h3 {
    font-size: 1.2rem;
    margin-bottom: 0.75rem;
    color: var(--title-color);
    font-weight: bold;
}

.detail-content:not(.actor-layout) .game-dlc-grid,
.detail-content:not(.actor-layout) .game-similar-grid {
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 0.75rem;
}

/* Make DLC items 10% bigger */
.detail-content:not(.actor-layout) .game-dlc-grid {
    transform: scale(1.1);
    transform-origin: left top;
}

.detail-content:not(.actor-layout) .game-dlc-grid img,
.detail-content:not(.actor-layout) .game-similar-grid img {
    width: 100%;
    aspect-ratio: 460/215;
    object-fit: cover;
    border-radius: 4px;
    cursor: pointer;
    transition: transform 0.2s, filter 0.2s;
}

.detail-content:not(.actor-layout) .game-dlc-grid img:hover,
.detail-content:not(.actor-layout) .game-similar-grid img:hover {
    transform: scale(1.05);
    filter: brightness(0.7);
}

.detail-content:not(.actor-layout) .cast-characters-container h3 {
    font-size: 1.2rem;
    margin-bottom: 0.75rem;
}

/* Make cast grid items smaller */
.detail-content:not(.actor-layout) .cast-characters-grid img {
    width: 100%;
    aspect-ratio: 2/3;
    object-fit: cover;
    border-radius: 4px;
    transition: filter 0.2s;
}

.detail-content:not(.actor-layout) .cast-characters-grid img:hover {
    filter: brightness(0.7);
}

.actor-title {
    color: var(--title-color);
    font-size: 2.5rem;
    margin-bottom: 1rem;
    font-weight: bold;
}

.actor-biography-wrapper {
    margin-bottom: 1.25rem;
}

.biography-heading {
    color: var(--title-color);
    font-size: 1.05rem;
    margin-bottom: 0.35rem;
    font-weight: bold;
}

.actor-biography {
    color: var(--text-color);
    line-height: 1.5;
    font-size: 0.95rem;
}

.spotify-player-section {
    margin-bottom: 2.5rem;
    margin-top: 1.5rem;
}

.spotify-player-section h3 {
    color: var(--title-color);
    font-size: 1.05rem;
    margin-bottom: 1rem;
    font-weight: bold;
}

.read-more-btn {
    background: none;
    border: 1px solid var(--border-color);
    color: var(--text-color);
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    margin-top: 0.5rem;
    transition: all 0.2s;
}

.read-more-btn:hover {
    background-color: var(--hover-color);
    border-color: var(--hover-color);
}

.image-selection-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 1rem;
    max-height: 60vh;
    overflow-y: auto;
}

.image-selection-grid img {
    width: 100%;
    aspect-ratio: 2/3;
    object-fit: cover;
    border-radius: 4px;
    cursor: pointer;
    transition: transform 0.2s;
    border: 2px solid transparent;
}

/* Banner items should have landscape aspect ratio (widescreen) */
.image-selection-item.banner-item img {
    aspect-ratio: 16/9;
    object-fit: cover;
}

/* Poster items keep portrait aspect ratio */
.image-selection-item.poster-item img {
    aspect-ratio: 2/3;
    object-fit: cover;
}

.image-selection-grid img:hover {
    transform: scale(1.05);
    border-color: var(--hover-color);
}

.banner-label {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: rgba(0, 0, 0, 0.7);
    color: white;
    padding: 0.5rem;
    font-size: 0.85rem;
    text-align: center;
    border-radius: 0 0 4px 4px;
}

.image-selection-item {
    position: relative;
}

/* Hide controls and tabs in detail view */
.controls-row.hidden,
.tabs-row.hidden {
    display: none !important;
}

.hidden {
    display: none !important;
}

/* Actor Detail View - Special Layout */
.detail-view.actor-view .detail-content {
    margin-top: -120px;
    flex-direction: column;
    align-items: flex-start;
    text-align: left;
}

.detail-view:not(.collection-view).actor-view .detail-poster {
    width: 350px;
    height: 525px;
    margin-bottom: 1rem;
}

.detail-view.actor-view .detail-info {
    flex: 1;
    width: 300px;
    text-align: center;
}

.detail-view.actor-view .detail-title {
    text-align: center;
}

.detail-view.actor-view .detail-description,
.detail-view.actor-view .detail-rating {
    display: none;
}

.hero-banner {
    position: relative;
    width: 120%;
    margin-left: -10%;
    height: 900px;
    border-radius: 0;
    overflow: hidden;
    margin-bottom: 2rem;
    margin-top: -128px;
    opacity: 0.9;
}

.banner-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0.65;
}

/* Banner image specific for people/actors - smaller height */
.detail-view.actor-view .banner-image {
    width: 100%;
    height: 700px;
    object-fit: cover;
    opacity: 0.65;
    mask-image: linear-gradient(to bottom, black 70%, transparent 100%);
    -webkit-mask-image: linear-gradient(to bottom, black 70%, transparent 100%);
}

.detail-view.transient-view .banner-image {
    filter: brightness(0.4) saturate(0.85);
    opacity: 0.5;
}

/* Ensure banner area hides the tab background in detail view
   - Banner image and overlay sit above the tab-background (z-index > -1)
   - Keep pointer-events none so header controls remain clickable */
.detail-view .hero-banner,
.detail-view .banner-image,
.detail-view .banner-overlay,
.detail-view .sequels-banner-container,
.detail-view .sequels-banner-image {
    z-index: 2;
    pointer-events: none;
}

/* Make banner image fully opaque in detail view so the tab background
   cannot show through the semi-transparent image */
.detail-view .banner-image {
    opacity: 1;
}

.banner-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(to right,
            var(--bg-color) 0%,
            color-mix(in srgb, var(--bg-color) 90%, transparent) 3%,
            color-mix(in srgb, var(--bg-color) 60%, transparent) 8%,
            color-mix(in srgb, var(--bg-color) 20%, transparent) 15%,
            transparent 20%,
            transparent 80%,
            color-mix(in srgb, var(--bg-color) 20%, transparent) 85%,
            color-mix(in srgb, var(--bg-color) 60%, transparent) 92%,
            color-mix(in srgb, var(--bg-color) 90%, transparent) 97%,
            var(--bg-color) 100%),
        linear-gradient(to bottom,
            transparent 0%,
            transparent 65%,
            color-mix(in srgb, var(--bg-color) 20%, transparent) 80%,
            color-mix(in srgb, var(--bg-color) 60%, transparent) 90%,
            color-mix(in srgb, var(--bg-color) 90%, transparent) 97%,
            var(--bg-color) 100%);
}

/* Banner overlay specific for people/actors */
.detail-view.actor-view .banner-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(to right,
            var(--bg-color) 0%,
            color-mix(in srgb, var(--bg-color) 90%, transparent) 3%,
            color-mix(in srgb, var(--bg-color) 60%, transparent) 8%,
            color-mix(in srgb, var(--bg-color) 20%, transparent) 15%,
            transparent 20%,
            transparent 80%,
            color-mix(in srgb, var(--bg-color) 20%, transparent) 85%,
            color-mix(in srgb, var(--bg-color) 60%, transparent) 92%,
            color-mix(in srgb, var(--bg-color) 90%, transparent) 97%,
            var(--bg-color) 100%),
        linear-gradient(to bottom,
            transparent 0%,
            transparent 65%,
            color-mix(in srgb, var(--bg-color) 20%, transparent) 80%,
            color-mix(in srgb, var(--bg-color) 60%, transparent) 90%,
            color-mix(in srgb, var(--bg-color) 90%, transparent) 97%,
            var(--bg-color) 100%);
}

.detail-content {
    display: flex;
    gap: 2rem;
    align-items: flex-start;
    position: relative;
    z-index: 2;
    margin-top: -120px;
    transition: margin-top 0.22s ease, transform 0.22s ease;
}

/* Move detail content higher for non-actor views */
.detail-content:not(.actor-layout) {
    margin-top: -360px;
    flex-wrap: wrap;
}

.detail-view:not(.collection-view) .detail-poster {
    width: 350px;
    height: 525px;
    object-fit: cover;
    border-radius: 8px;
    flex-shrink: 0;
    margin-top: 0;
    box-shadow: 0 12px 48px rgba(0, 0, 0, 0.8);
    transition: filter 0.2s;
}

.detail-view:not(.collection-view) .detail-poster:hover {
    filter: brightness(0.7);
}

/* Make poster bigger and remove border for non-actor views */
.detail-view:not(.collection-view) .detail-content:not(.actor-layout) .detail-poster {
    width: 350px;
    height: 525px;
    border: none;
    box-shadow: none;
}

.detail-info {
    flex: 1;
    display: flex;
    flex-direction: column;
}

.detail-title {
    font-size: 2.5rem;
    color: var(--title-color);
    margin-bottom: 1rem;
    font-weight: bold;
}

.detail-meta {
    color: var(--text-color);
    margin-bottom: 1.5rem;
    font-size: 1.008rem;
    font-weight: 500;
}

.detail-description {
    color: var(--text-color);
    margin-bottom: 1.5rem;
    line-height: 1.7;
    font-size: 1rem;
    flex-shrink: 0;
}

.detail-rating {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 0.25rem;
}

.rating-label {
    color: var(--text-color);
    font-weight: bold;
    font-size: 1.1rem;
    display: none;
}

.star-rating {
    display: flex;
    gap: 0.25rem;
}

.star {
    position: relative;
    font-size: 1.8rem;
    color: #3b3b3b;
    cursor: pointer;
    transition: color 0.2s ease;
}

.star::before {
    content: '★';
    position: absolute;
    inset: 0;
    width: 0;
    overflow: hidden;
    color: #ffd700;
    pointer-events: none;
    transition: width 0.2s ease, color 0.2s ease;
}

.star:hover {
    color: #505050;
}

.star:hover::before {
    width: 100%;
    color: #ffea86;
}

.star.active {
    color: #1f1f1f;
}

.star.active::before {
    width: 100%;
}

.star.half-active {
    color: #1f1f1f;
}

.star.half-active::before {
    width: 50%;
}

/* Disabled star rating for items not in library */
.star-rating.disabled {
    opacity: 0.4;
    cursor: default;
    pointer-events: none;
}

.star-rating.disabled .star {
    cursor: default;
    color: #2a2a2a;
}

.star-rating.disabled .star::before {
    color: #555;
}

.star-rating.disabled .star:hover {
    color: #2a2a2a;
}

.star-rating.disabled .star:hover::before {
    width: 0;
}

.detail-rating.disabled {
    opacity: 0.4;
}

/* Move info to the right and make it bigger for non-actor views */
.detail-content:not(.actor-layout) .detail-info {
    transform: translateX(3%);
}

.detail-content:not(.actor-layout) .detail-title {
    font-size: 2.75rem;
}

.detail-content:not(.actor-layout) .detail-meta {
    font-size: 1.1088rem;
}

.detail-content:not(.actor-layout) .detail-description {
    font-size: 1.21rem;
}

.detail-content:not(.actor-layout) .rating-label {
    font-size: 1.21rem;
}

.detail-content:not(.actor-layout) .star {
    font-size: 1.98rem;
}

.insights-view {
    padding: 2rem 0;
}

.insights-header {
    margin-bottom: 2rem;
}

.insights-header h2 {
    color: var(--title-color);
    font-size: 2.2rem;
}

.insights-subtitle {
    display: none;
}

.insights-grid {
    display: flex;
    flex-direction: column;
    gap: 3rem;
}

.insights-category {
    display: flex;
    flex-direction: column;
    gap: 2rem;
    padding-bottom: 2.5rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.06);
}

.insights-category:last-child {
    border-bottom: none;
    padding-bottom: 0;
}

.insights-category-header {
    display: none;
}

.insights-stat-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 1.5rem;
}

.insights-stat {
    display: flex;
    flex-direction: column;
    gap: 0.35rem;
    padding-left: 0.75rem;
    border-left: 3px solid rgba(255, 255, 255, 0.08);
}

.insights-stat-label {
    font-size: 0.8rem;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: var(--text-color);
    opacity: 0.6;
}

.insights-stat-value {
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--title-color);
}

.insights-stat-subvalue {
    font-size: 0.85rem;
    color: var(--text-color);
    opacity: 0.7;
}

.insights-visuals {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 2.5rem;
}

.insights-visual {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.insights-visual-title {
    display: inline-flex;
    align-items: center;
    gap: 0.65rem;
    font-size: 0.95rem;
    text-transform: uppercase;
    letter-spacing: 0.12em;
    color: var(--text-color);
    opacity: 0.75;
}

.insights-visual-title svg {
    width: 18px;
    height: 18px;
    fill: currentColor;
}

.insights-rank-chart {
    margin-top: 0.25rem;
}

.insights-rank-bars {
    display: grid;
    grid-template-columns: repeat(11, minmax(28px, 1fr));
    align-items: end;
    gap: 0.65rem;
    height: 150px;
}

.insights-rank-bar {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-end;
    gap: 0.45rem;
    height: 100%;
    position: relative;
}

.insights-rank-bar-visual {
    width: 100%;
    border-radius: 6px 6px 4px 4px;
    background: var(--hover-color);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.insights-rank-bar:hover .insights-rank-bar-visual {
    transform: translateY(-4px);
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.25);
}

.insights-rank-bar::before {
    content: attr(data-count) " titles";
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translate(-50%, -0.75rem);
    background: rgba(0, 0, 0, 0.8);
    color: #fff;
    padding: 0.35rem 0.5rem;
    font-size: 0.75rem;
    border-radius: 6px;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.2s ease, transform 0.2s ease;
    white-space: nowrap;
    backdrop-filter: blur(6px);
}

.insights-rank-bar:hover::before {
    opacity: 0.95;
    transform: translate(-50%, -1rem);
}

.insights-rank-bar[data-count="1"]::before {
    content: "1 title";
}

.insights-rank-count {
    color: var(--text-color);
    font-size: 0.78rem;
    opacity: 0.7;
}

.insights-rank-label {
    font-size: 0.7rem;
    color: var(--text-color);
    opacity: 0.75;
    text-align: center;
    line-height: 1.3;
}

.insights-rank-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 1rem;
    color: var(--text-color);
    font-size: 0.82rem;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    opacity: 0.65;
}

.insights-rank-footer span {
    display: inline-flex;
    gap: 0.4rem;
}

.insights-rank-empty {
    color: var(--text-color);
    opacity: 0.65;
    font-size: 0.9rem;
    font-style: italic;
    margin-top: 0.5rem;
}

.insights-genre-bars {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-top: 0.5rem;
}

.insights-genre-bar {
    display: flex;
    align-items: baseline;
    gap: 1.25rem;
}

.insights-genre-bar-label {
    color: var(--title-color);
    font-weight: 600;
    font-size: 0.92rem;
    flex: 0 0 160px;
    letter-spacing: 0.01em;
}

.insights-genre-bar-meter {
    position: relative;
    width: 100%;
    height: 10px;
    background: rgba(255, 255, 255, 0.08);
    border-radius: 999px;
}

.insights-genre-bar-fill {
    position: absolute;
    inset: 0;
    border-radius: inherit;
    width: 0;
    background: var(--hover-color);
    transition: width 0.35s ease;
    display: flex;
    align-items: center;
    justify-content: flex-end;
}

.insights-genre-bar-meter::after {
    content: attr(data-count) " titles";
    position: absolute;
    top: -2rem;
    right: 0;
    background: rgba(0, 0, 0, 0.85);
    color: #fff;
    padding: 0.3rem 0.55rem;
    border-radius: 6px;
    font-size: 0.75rem;
    opacity: 0;
    transform: translateY(6px);
    transition: opacity 0.2s ease, transform 0.2s ease;
    pointer-events: none;
    white-space: nowrap;
    display: inline-flex;
    align-items: center;
    gap: 0.35rem;
}

.insights-genre-bar-meter::after::before {
    content: "";
    position: absolute;
    bottom: -4px;
    right: 12px;
    width: 8px;
    height: 8px;
    background: inherit;
    transform: rotate(45deg);
    border-radius: 2px;
}

.insights-genre-bar-meter:hover::after {
    opacity: 1;
    transform: translateY(0);
}

.insights-genre-bar-tooltip {
    display: none;
}

.insights-genre-bar-meter[data-count="1"]::after {
    content: "1 title";
}

.insights-top-low-grid {
    margin-top: 1.5rem;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 1.25rem;
}

.insights-top-item,
.insights-low-item {
    display: flex;
    flex-direction: column;
    gap: 0.35rem;
    transform: translate(-781px, -128px);
}

.insights-top-item-label,
.insights-low-item-label {
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.12em;
    color: var(--text-color);
    opacity: 0.6;
}

.insights-top-item-value,
.insights-low-item-value {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--title-color);
}

.insights-top-item-score,
.insights-low-item-score {
    font-size: 0.9rem;
    color: var(--text-color);
    opacity: 0.75;
}

.insights-top-item--empty,
.insights-low-item--empty {
    color: var(--text-color);
    opacity: 0.65;
    font-style: italic;
}

.insights-role-insights {
    margin-top: 1.75rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.insights-role-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 1.25rem;
}

.insights-role-card {
    display: flex;
    flex-direction: column;
    gap: 0.3rem;
}

.insights-role-card-title {
    font-size: 0.75rem;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: var(--text-color);
    opacity: 0.6;
}

.insights-role-card-name {
    font-size: 1.05rem;
    font-weight: 600;
    color: var(--title-color);
}

.insights-role-card-meta {
    font-size: 0.85rem;
    color: var(--text-color);
    opacity: 0.75;
}

.insights-role-card--empty {
    color: var(--text-color);
    opacity: 0.65;
    font-style: italic;
}

.insights-low-item {
    margin-top: 1rem;
    display: flex;
    flex-direction: column;
    gap: 0.35rem;
}

.insights-low-item-label {
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.12em;
    color: var(--text-color);
    opacity: 0.6;
}

.insights-low-item-value {
    font-size: 1.05rem;
    font-weight: 600;
    color: var(--title-color);
}

.insights-low-item-score {
    font-size: 0.9rem;
    color: var(--text-color);
    opacity: 0.75;
}

.insights-low-item--empty {
    color: var(--text-color);
    opacity: 0.65;
    font-style: italic;
}

.insights-empty {
    color: var(--text-color);
    opacity: 0.65;
    font-size: 0.95rem;
    font-style: italic;
}

.detail-creator-info {
    margin-top: 1.5rem;
    margin-bottom: 0;
    color: var(--text-color);
    font-size: 0.85rem;
    display: block;
    visibility: visible;
    opacity: 1;
    width: 100%;
    line-height: 1.2;
    flex-shrink: 0;
}

.detail-content:not(.actor-layout) .detail-creator-info {
    font-size: 0.88rem;
    margin-top: 1.5rem;
}

.creator-label {
    font-weight: bold;
    color: var(--title-color);
    display: inline;
    font-size: inherit;
}

.creator-value {
    color: var(--text-color);
    margin-left: 0.5rem;
    display: inline;
    font-size: inherit;
}

.detail-extra-meta {
    margin-top: 0.5rem;
    margin-left: auto;
    display: none;
    justify-content: flex-end;
    align-items: flex-start;
    gap: 0.5rem 2rem;
    background: none;
    border: none;
    padding: 0;
    grid-auto-flow: column;
    grid-auto-columns: minmax(90px, auto);
    column-gap: 2rem;
    row-gap: 0.35rem;
    transform: translateY(150%);
}

.detail-extra-row {
    display: contents;
    opacity: 0.65;
}

.detail-extra-empty,
.detail-extra-loading {
    font-size: 0.85rem;
    color: var(--text-color);
    opacity: 0.7;
}

/* Modals */
.modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.8);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 10001;
}


/* Detail settings menu buttons (Select Poster / Change Poster etc.) */
.detail-settings-menu .detail-menu-option,
.detail-menu-option {
    display: inline-block;
    width: 100%;
    text-align: left;
    padding: 0.45rem 0.75rem;
    margin: 0.25rem 0;
    background: transparent;
    border: 1px solid transparent;
    color: var(--text-color);
    font-size: 0.9rem;
    border-radius: 6px;
    cursor: pointer;
    transition: background 150ms ease, color 150ms ease, transform 100ms ease;
}

.detail-settings-menu .detail-menu-option:hover,
.detail-menu-option:hover {
    background: rgba(255, 255, 255, 0.03);
    color: var(--title-color);
    transform: translateY(-1px);
}

.detail-settings-menu .detail-menu-option:active,
.detail-menu-option:active {
    transform: translateY(0);
}

/* Compact variant for single-line select buttons */
.detail-menu-option--compact {
    padding: 0.25rem 0.5rem;
    font-size: 0.85rem;
    border-radius: 4px;
}

/* Inline variant keeps button compact and inline (for small-btn areas) */
.detail-menu-option--inline {
    width: auto;
    display: inline-block;
    padding: 0.25rem 0.6rem;
}

/* File input styling - only apply to visible file inputs (ignore those with the `hidden` attribute) */
input[type="file"]:not([hidden]) {
    color: var(--text-color);
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid rgba(255, 255, 255, 0.04);
    padding: 0.25rem 0.5rem;
    border-radius: 6px;
    font-size: 0.9rem;
    cursor: pointer;
    display: inline-block;
}

/* Style the file button inside the input (modern browsers) */
input[type="file"]::file-selector-button,
input[type="file"]::-webkit-file-upload-button {
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0.01));
    border: 1px solid rgba(255, 255, 255, 0.06);
    color: var(--title-color);
    padding: 0.25rem 0.6rem;
    margin-right: 0.5rem;
    border-radius: 4px;
    cursor: pointer;
}

/* IE/Edge legacy */
input[type="file"]::-ms-browse {
    background: rgba(255, 255, 255, 0.02);
    color: var(--title-color);
    border-radius: 4px;
    padding: 0.2rem 0.5rem;
}

/* Hover / focus states */
input[type="file"]::file-selector-button:hover,
input[type="file"]::-webkit-file-upload-button:hover,
input[type="file"]::-ms-browse:hover {
    filter: brightness(1.06);
}

input[type="file"]:not([hidden]):focus {
    outline: 2px solid rgba(255, 255, 255, 0.06);
    outline-offset: 2px;
}

/* Image preview container (used next to file input) */
.image-preview {
    margin-top: 0.4rem;
    max-width: 220px;
    max-height: 140px;
    overflow: hidden;
    border-radius: 6px;
    border: 1px solid rgba(255, 255, 255, 0.04);
    background: rgba(0, 0, 0, 0.12);
    display: inline-block;
}

.image-preview img {
    display: block;
    width: 100%;
    height: auto;
}

/* Banner preview: larger, widescreen preview for TMDB banners */
#bannerPreview.image-preview,
#bannerPreview {
    max-width: 640px;
    max-height: 260px;
    width: 100%;
    height: auto;
    display: block;
    border-radius: 6px;
}

/* Make the Select Banner button more prominent (keeps inline compact layout) */
#selectBannerFromTMDB.detail-menu-option--inline {
    padding: 0.35rem 0.8rem;
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.04), rgba(255, 255, 255, 0.02));
    border: 1px solid rgba(255, 255, 255, 0.08);
    color: var(--title-color);
}

/* Slightly larger preview for poster preview too when used in collection editor */
#posterPreview.image-preview,
#posterPreview {
    max-width: 300px;
    max-height: 440px;
}

/* Visual emphasis variant for primary actions like Select Poster */
.detail-menu-option--primary {
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.01));
    border: 1px solid rgba(255, 255, 255, 0.06);
    color: var(--title-color);
}

/* Ensure buttons in dark panels have clear focus outlines for keyboard users */
.detail-menu-option:focus {
    outline: 2px solid rgba(255, 255, 255, 0.08);
    outline-offset: 2px;
}

.modal.show {
    display: flex;
}

.modal-content {
    background: var(--modal-bg);
    border-radius: 8px;
    border: 1px solid var(--border-color);
    max-width: 500px;
    width: 90%;
    max-height: 90vh;
    overflow-y: auto;
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem;
    border-bottom: 1px solid var(--border-color);
}

.modal-header h3 {
    color: var(--title-color);
}

.modal-tabs {
    display: flex;
    border-bottom: 1px solid var(--border-color);
    padding: 0 1rem;
    gap: 0;
}

.modal-tab {
    background: none;
    border: none;
    color: var(--text-color);
    padding: 0.75rem 1.5rem;
    cursor: pointer;
    border-bottom: 2px solid transparent;
    transition: all 0.2s;
    font-size: 1rem;
}

.modal-tab:hover {}

.modal-tab.active {
    color: var(--hover-color);
    border-bottom-color: var(--hover-color);
}

.close-btn {
    background: none;
    border: none;
    color: var(--text-color);
    font-size: 1.2rem;
    cursor: pointer;
    padding: 0.25rem;
    border-radius: 4px;
    transition: background-color 0.2s;
}

.close-btn:hover {
    background-color: var(--hover-color);
}

.modal-form {
    padding: 1rem;
}

.form-group {
    margin-bottom: 0.75rem;
}

.form-group label {
    display: block;
    color: var(--text-color);
    margin-bottom: 0.5rem;
    font-weight: bold;
    font-size: 0.8rem;
}

.actor-fields-row {
    display: flex;
    gap: 1rem;
    margin-bottom: 0.75rem;
}

.form-group input,
.form-group textarea,
.form-group select {
    width: 100%;
    background: var(--card-bg);
    border: 2px solid var(--border-color);
    color: var(--text-color);
    padding: 0.5rem;
    border-radius: 10px;
    font-family: var(--font-family);
}

.form-group input:focus,
.form-group textarea:focus,
.form-group select:focus {
    outline: none;
    border-color: var(--hover-color);
}

.image-preview {
    margin-top: 0.5rem;
    max-width: 200px;
    max-height: 200px;
    border-radius: 4px;
    overflow: hidden;
}

.image-preview img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.form-star-rating {
    display: flex;
    gap: 0.25rem;
}

/* Rating tooltip shown when hovering the star rating widgets */
.form-star-rating,
.star-rating {
    position: relative;
}

.rating-tooltip {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    bottom: calc(100% + 8px);
    background: rgba(0, 0, 0, 0.85);
    color: #fff;
    padding: 6px 10px;
    border-radius: 6px;
    font-size: 13px;
    white-space: pre-line;
    text-align: center;
    z-index: 50;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
}

.rating-tooltip::after {
    content: '';
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 6px solid transparent;
    border-right: 6px solid transparent;
    border-top: 6px solid rgba(0, 0, 0, 0.85);
}

.form-details-toggle-wrapper {
    margin-bottom: 0.75rem;
    position: relative;
}

.form-details-toggle-input {
    position: absolute;
    opacity: 0;
    pointer-events: none;
}

.form-details-toggle-button {
    width: 100%;
    background: var(--dropdown-color);
    color: var(--text-color);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    padding: 0.75rem 1rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    cursor: pointer;
    font-weight: 600;
    letter-spacing: 0.5px;
    transition: background-color 0.2s, border-color 0.2s;
}

.form-details-toggle-button::after {
    content: '';
    width: 10px;
    height: 10px;
    border-right: 2px solid var(--text-color);
    border-bottom: 2px solid var(--text-color);
    transform: rotate(45deg);
    transition: transform 0.3s ease;
    margin-left: auto;
}

.form-details-toggle-input:checked~.form-details-toggle-button::after {
    transform: rotate(-135deg);
}

.form-details-toggle-button:hover {
    background-color: var(--hover-color);
    opacity: 0.8;
}

.form-details-toggle-panel {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease, margin-top 0.3s ease;
    margin-top: 0;
}

.form-details-toggle-input:checked~.form-details-toggle-panel {
    max-height: 5000px;
    margin-top: 0.75rem;
}

.form-actions {
    display: flex;
    gap: 1rem;
    justify-content: flex-end;
    margin-top: 2rem;
    padding-top: 1rem;
    border-top: 1px solid var(--border-color);
}

.cancel-btn,
.save-btn {
    padding: 0.5rem 1rem;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s;
}

.cancel-btn {
    background: none;
    color: var(--text-color);
    border: none !important;
}

.cancel-btn:hover {
    background-color: var(--hover-color);
}

.save-btn {
    background: var(--dropdown-color);
    color: var(--text-color);
    border: none;
}

.save-btn {
    position: relative;
}

.save-btn::before {
    content: '';
    position: absolute;
    inset: 0;
    background: var(--hover-color);
    opacity: 0;
    transition: opacity 0.2s;
    pointer-events: none;
    border-radius: 4px;
}

.save-btn:hover {
    color: #ffffff !important;
}

.save-btn:hover::before {
    opacity: 0.2;
}

/* Settings Modal */
.settings-content {
    padding: 1rem;
}

.settings-menu .settings-content {
    padding: 0.75rem;
}

.setting-group {
    margin-bottom: 0.75rem;
    display: flex;
    align-items: center;
}

.setting-group label {
    display: inline-block;
    color: var(--text-color);
    margin-right: 0.5rem;
    font-weight: bold;
    min-width: 50px;
    font-size: 0.9rem;
}

.setting-group input[type="color"] {
    width: 200px;
    height: 40px;
    padding: 2px;
    border: 2px solid var(--border-color);
    border-radius: 4px;
    cursor: pointer;
}

.setting-group input[type="text"],
.setting-group select {
    flex: 1;
    background: var(--card-bg);
    border: 3px solid var(--border-color);
    color: var(--text-color);
    padding: 0.5rem;
    border-radius: 4px;
}

#saveSettings {
    background: var(--dropdown-color);
    color: var(--text-color);
    border: none;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s;
    width: 100%;
}

#saveSettings {
    position: relative;
}

#saveSettings::before {
    content: '';
    position: absolute;
    inset: 0;
    background: var(--hover-color);
    opacity: 0;
    transition: opacity 0.2s;
    pointer-events: none;
    border-radius: 4px;
}

#saveSettings:hover {
    color: #ffffff !important;
}

#saveSettings:hover::before {
    opacity: 0.2;
}

.api-toggle-wrapper {
    margin-bottom: 0.75rem;
}

.api-toggle-input {
    position: absolute;
    opacity: 0;
    pointer-events: none;
}

.api-toggle-button {
    width: 100%;
    background: var(--dropdown-color);
    color: var(--text-color);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    padding: 0.75rem 1rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    cursor: pointer;
    font-weight: 600;
    letter-spacing: 0.5px;
    transition: background-color 0.2s, border-color 0.2s;
}

.api-toggle-button::after {
    content: '';
    width: 10px;
    height: 10px;
    border-right: 2px solid var(--text-color);
    border-bottom: 2px solid var(--text-color);
    transform: rotate(45deg);
    transition: transform 0.2s;
}

.api-toggle-input:checked+.api-toggle-button::after {
    transform: rotate(225deg);
}

.api-toggle-input:focus-visible+.api-toggle-button {
    outline: 2px solid var(--hover-color);
    outline-offset: 2px;
}

.api-toggle-button:hover {
    background-color: var(--hover-color);
    opacity: 0.8;
}

.api-toggle-panel {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.25s ease, margin-top 0.25s ease;
}

.api-toggle-input:checked~.api-toggle-panel {
    max-height: 1000px;
    margin-top: 0.75rem;
}

.data-buttons {
    display: flex;
    gap: 1rem;
}

.data-buttons button {
    background: var(--hover-color);
    color: var(--bg-color);
    border: none;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.2s;
}

.data-buttons button:hover {
    background: #cc0000;
}

/* API Search Modal */
.api-search-content {
    padding: 1rem;
}

.api-search-content input {
    width: 100%;
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    color: var(--text-color);
    padding: 0.5rem;
    border-radius: 4px;
    margin-bottom: 1rem;
}

.api-search-content button {
    background: var(--hover-color);
    color: var(--bg-color);
    border: none;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    margin-bottom: 1rem;
}

.api-results {
    min-height: 200px;
    max-height: 400px;
    overflow-y: auto;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    padding: 1rem;
    background: var(--card-bg);
}

.api-placeholder {
    color: #666;
    text-align: center;
    margin-top: 2rem;
}

.api-result-item {
    display: flex;
    gap: 1rem;
    padding: 0.75rem;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    margin-bottom: 0.75rem;
    cursor: pointer;
    transition: all 0.2s;
    background: var(--modal-bg);
}

.api-result-item:hover {
    border-color: var(--hover-color);
    transform: translateX(5px);
}

.api-result-item img {
    width: 80px;
    height: 120px;
    object-fit: cover;
    border-radius: 4px;
}

.api-result-item div {
    flex: 1;
}

.api-result-item h4 {
    color: var(--title-color);
    margin: 0 0 0.5rem 0;
    font-size: 1.1rem;
}

.api-result-item p {
    color: var(--text-color);
    margin: 0.25rem 0;
    font-size: 0.9rem;
    line-height: 1.4;
}

.api-result-extra {
    margin-top: 0.35rem;
    display: flex;
    flex-wrap: wrap;
    gap: 0.4rem;
}

.api-result-extra span {
    padding: 0.25rem 0.55rem;
    border-radius: 999px;
    background: rgba(255, 255, 255, 0.08);
    color: var(--title-color);
    font-size: 0.75rem;
    letter-spacing: 0.05em;
    text-transform: uppercase;
}

.api-result-meta {
    margin-top: 1rem;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.35);
    backdrop-filter: blur(6px);
    min-height: 56px;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.api-result-meta.hidden {
    display: none;
}

.api-meta-loading {
    color: var(--text-color);
    opacity: 0.7;
    font-size: 0.9rem;
}

.api-meta-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
    gap: 0.75rem 1.5rem;
}

.api-meta-row {
    display: flex;
    flex-direction: column;
    gap: 0.35rem;
}

.api-meta-label {
    font-size: 0.75rem;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: var(--text-color);
    opacity: 0.6;
}

.api-meta-value {
    font-size: 0.95rem;
    color: var(--title-color);
}

.api-meta-empty {
    color: var(--text-color);
    opacity: 0.7;
    font-size: 0.9rem;
}

/* Responsive Design */
@media (max-width: 768px) {
    .app-container {
        width: 95%;
    }

    .detail-content {
        flex-direction: column;
    }

    .detail-view:not(.collection-view) .detail-poster {
        width: 262.5px;
        height: 393.75px;
        margin-top: 0;
        align-self: center;
    }

    .grid-container {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    }

    /* Library View - 6 columns grid with empty first and last (showing 4 columns) on tablets */
    .library-view .grid-container {
        grid-template-columns: 1fr repeat(4, 1fr) 1fr;

        /* Empty first, 4 content columns, empty last */
    }

    /* Library View - Position items in 4 columns starting from column 2 on tablets */
    .library-view .grid-item:nth-child(6n+1),
    .library-view .grid-item:nth-child(6n+2),
    .library-view .grid-item:nth-child(6n+3),
    .library-view .grid-item:nth-child(6n+4),
    .library-view .grid-item:nth-child(6n+5),
    .library-view .grid-item:nth-child(6n+6) {
        grid-column: auto;
    }

    .library-view .grid-item:nth-child(4n+1) {
        grid-column: 2;
    }

    /* Items 1, 5, 9... */
    .library-view .grid-item:nth-child(4n+2) {
        grid-column: 3;
    }

    /* Items 2, 6, 10... */
    .library-view .grid-item:nth-child(4n+3) {
        grid-column: 4;
    }

    /* Items 3, 7, 11... */
    .library-view .grid-item:nth-child(4n+4) {
        grid-column: 5;
    }

    /* Items 4, 8, 12... */
    .controls-row {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        align-items: stretch;
        margin-bottom: 1rem;
        padding-bottom: 0;
    }

    .controls-left,
    .controls-right {
        justify-content: center;
        align-self: center;
        transform: none;
    }

    .insights-grid {
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    }
}

@media (max-width: 480px) {
    .app-container {
        width: 98%;
    }

    .tabs-row {
        flex-wrap: wrap;
        gap: 0.5rem;
    }

    .tab-btn {
        font-size: 0.9rem;
        padding: 0.4rem 0.8rem;
    }

    .grid-container {
        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
        gap: 0.5rem;
    }

    /* Library View - 4 columns grid with empty first and last (showing 2 columns) on mobile */
    .library-view .grid-container {
        grid-template-columns: 1fr repeat(2, 1fr) 1fr;

        /* Empty first, 2 content columns, empty last */
    }

    /* Library View - Position items in 2 columns starting from column 2 on mobile */
    .library-view .grid-item:nth-child(4n+1),
    .library-view .grid-item:nth-child(4n+2),
    .library-view .grid-item:nth-child(4n+3),
    .library-view .grid-item:nth-child(4n+4),
    .library-view .grid-item:nth-child(6n+1),
    .library-view .grid-item:nth-child(6n+2),
    .library-view .grid-item:nth-child(6n+3),
    .library-view .grid-item:nth-child(6n+4),
    .library-view .grid-item:nth-child(6n+5),
    .library-view .grid-item:nth-child(6n+6) {
        grid-column: auto;
    }

    .library-view .grid-item:nth-child(2n+1) {
        grid-column: 2;
    }

    /* Items 1, 3, 5... */
    .library-view .grid-item:nth-child(2n+2) {
        grid-column: 3;
    }

    /* Items 2, 4, 6... */
    .insights-grid {
        grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    }
}

/* Linked Movies Search Styles */
.linked-movies-search {
    display: flex;
    gap: 0.5rem;
    margin-top: 0.5rem;
}

.linked-movies-search input {
    flex: 1;
}

.search-btn {
    background: var(--hover-color);
    color: var(--bg-color);
    border: none;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    white-space: nowrap;
}

.search-btn:hover {
    opacity: 0.9;
}

.linked-movies-results {
    max-height: 200px;
    overflow-y: auto;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    margin-top: 0.5rem;
    background: var(--card-bg);
}

.linked-movie-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem;
    border-bottom: 1px solid var(--border-color);
    cursor: pointer;
    transition: background-color 0.2s;
}

.linked-movie-item:last-child {
    border-bottom: none;
}

.linked-movie-item {
    position: relative;
}

.linked-movie-item::before {
    content: '';
    position: absolute;
    inset: 0;
    background: var(--hover-color);
    opacity: 0;
    transition: opacity 0.2s;
    pointer-events: none;
}

.linked-movie-item:hover {
    color: #ffffff !important;
}

.linked-movie-item:hover::before {
    opacity: 0.2;
}

.linked-movie-item img {
    width: 40px;
    height: 40px;
    object-fit: cover;
    border-radius: 4px;
}

/* Loading placeholder for linked movies grid */
.linked-loading {
    color: var(--text-color);
    padding: 1rem 0;
    text-align: left;
    font-size: 0.95rem;
    opacity: 0.8;
}

.linked-movie-item-info {
    flex: 1;
    min-width: 0;
}

.linked-movie-item-info h5 {
    margin: 0;
    font-size: 0.9rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.linked-movie-item-info p {
    margin: 0;
    font-size: 0.8rem;
    color: var(--text-color);
    opacity: 0.7;
}

.linked-movies-selected {
    margin-top: 0.5rem;
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
}

/* Collection Search Styles */
.collection-search-wrapper {
    display: flex;
    gap: 0.5rem;
    margin-top: 0.5rem;
}

.collection-search-wrapper input {
    flex: 1;
}

.collection-search-results {
    max-height: 200px;
    overflow-y: auto;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    margin-top: 0.5rem;
    background: var(--modal-bg);
    padding: 0.5rem;
}

.collection-search-result-item {
    padding: 0.5rem;
    cursor: pointer;
    border-radius: 4px;
    margin-bottom: 0.25rem;
    transition: background-color 0.2s;
}

.collection-search-result-item {
    position: relative;
}

.collection-search-result-item::before {
    content: '';
    position: absolute;
    inset: 0;
    background: var(--hover-color);
    opacity: 0;
    transition: opacity 0.2s;
    pointer-events: none;
    border-radius: 4px;
}

.collection-search-result-item:hover {
    color: #ffffff !important;
}

.collection-search-result-item:hover::before {
    opacity: 0.2;
}

.collection-search-result-item.selected {
    background-color: var(--hover-color);
    opacity: 0.3;
}

.selected-movie-chip {
    background: var(--hover-color);
    color: var(--bg-color);
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-size: 0.8rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.selected-movie-chip button {
    background: none;
    border: none;
    color: var(--bg-color);
    cursor: pointer;
    font-size: 1rem;
    padding: 0;
    width: 16px;
    height: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.selected-movie-chip button:hover {
    opacity: 0.7;
}

/* Actor Detail View Styles */
.actor-linked-movies {
    width: 350px;
    flex-shrink: 0;
}

.actor-linked-movies h3 {
    color: var(--title-color);
    font-size: 1.5rem;
    margin-bottom: 1rem;
    font-weight: bold;
}

.detail-content.actor-layout .actor-linked-movies h3 {
    font-size: 1.2rem;
    margin-bottom: 0.65rem;
}

.linked-movies-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
    gap: 1rem;

    /* Reserve vertical space to avoid layout shifts when Known For content loads */
    min-height: 160px;
}

/* Make linked movies bigger in actor detail view */
.actor-linked-movies .linked-movies-grid {
    grid-template-columns: repeat(auto-fill, minmax(162px, 1fr));
    gap: 2rem;
}

/* Make "known for" posters 25% smaller in actor detail view */
.detail-content.actor-layout .actor-linked-movies .linked-movies-grid {
    transform: scale(0.65);
    transform-origin: top left;
    margin-left: 0;
    gap: 0.5rem;
}

.detail-content.actor-layout .actor-linked-movies .linked-movies-grid .linked-movie-grid-item {
    transform: none;
    position: relative;
    overflow: hidden;
}

/* Hide movie name by default in actor detail view */
.detail-content.actor-layout .linked-movie-grid-item .linked-movie-name {
    display: none;
}

/* Add overlay similar to library view */
.detail-content.actor-layout .linked-movie-grid-item::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.2s;
    pointer-events: none;
}

/* On hover: show overlay and name centered */
.detail-content.actor-layout .linked-movie-grid-item:hover {
    transform: scale(1.05);
}

.detail-content.actor-layout .linked-movie-grid-item:hover::after {
    opacity: 1;
}

.detail-content.actor-layout .linked-movie-grid-item:hover .linked-movie-name {
    display: flex;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0.952);

    /* Compensate for parent scale(1.05) */
    color: white;
    font-weight: bold;
    text-align: center;
    z-index: 10;
    pointer-events: none;
    padding: 1rem;
}

.linked-movie-grid-item {
    cursor: pointer;
    transition: transform 0.2s;
}

.linked-movie-grid-item:hover {
    transform: scale(1.05);
}

.linked-movie-grid-item img {
    width: 100%;
    aspect-ratio: 2/3;
    object-fit: cover;
    border-radius: 4px;
    margin-bottom: 0;
}

/* Make 'Known For' posters square only for Spotify (singer) items. Keep actor/actress posters vertical (portrait). */
.linked-movie-grid-item.spotify-track img,
.actor-linked-movies .linked-movie-grid-item.spotify-track img,
.detail-content.actor-layout .actor-linked-movies .linked-movie-grid-item.spotify-track img {
    aspect-ratio: 1 / 1;

    /* square for Spotify items */
    object-fit: cover;
}

/* Actor detail view: restructure to 2-column layout with info under poster */
.detail-content.actor-layout {
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 2.7rem;
    align-items: start;

    /* Keep actor/singer detail content stable and prevent layout jumps */
    margin-top: -400px !important;
}

/* YouTube Interviews Section - Only for People/Actors */
.actor-interviews-section {
    margin-top: 2rem;
}

.actor-interviews-section.regular-actor-interviews {
    transform: translateY(-35%);
}

.actor-interviews-section h3 {
    color: var(--title-color);
    font-size: 1.5rem;
    margin-bottom: 1rem;
}

.interviews-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
}

.interview-item {
    position: relative;
    cursor: pointer;
    border-radius: 8px;
    overflow: hidden;
    transition: transform 0.2s, box-shadow 0.2s;
    background: var(--card-bg);
}

.interview-item:hover {
    transform: scale(1.05);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.6);
}

.interview-thumbnail {
    width: 100%;
    aspect-ratio: 16/9;
    object-fit: cover;
    display: block;
}

.interview-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.95) 0%, rgba(0, 0, 0, 0.7) 70%, transparent 100%);
    padding: 1rem;
    color: var(--text-color);
}

.interview-title {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--title-color);
    margin-bottom: 0.25rem;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
}

.interview-channel {
    font-size: 0.75rem;
    color: var(--text-color);
    opacity: 0.8;
}

/* YouTube Video Modal */
.youtube-video-modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.95);
    z-index: 10000;
    align-items: center;
    justify-content: center;
}

.youtube-video-modal-content {
    position: relative;
    width: 90%;
    max-width: 1200px;
    aspect-ratio: 16/9;
}

.youtube-video-close {
    position: absolute;
    top: -40px;
    right: 0;
    background: none;
    border: none;
    color: var(--text-color);
    font-size: 2rem;
    cursor: pointer;
    padding: 0;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: color 0.2s;
    z-index: 10001;
}

.youtube-video-close:hover {
    color: var(--hover-color);
}

.youtube-video-container {
    width: 100%;
    height: 100%;
    position: relative;
}

.youtube-video-container iframe {
    width: 100%;
    height: 100%;
    border-radius: 8px;
}

/* Star Special Popup (Tomato/Super Star) */
.detail-view:not(.collection-view) .detail-content.actor-layout .detail-poster {
    grid-column: 1;
    grid-row: 1;
    width: 350px;
    height: 525px;
    margin-bottom: 0;
}

.detail-content.actor-layout .detail-info {
    grid-column: 1;
    grid-row: 2;
    margin-top: 0.5rem;
}

.detail-content.actor-layout .actor-linked-movies {
    grid-column: 2;
    grid-row: 1;
    width: 100%;
}

/* Home View Styles */
.home-view {
    padding: 2rem 0;
}

.home-section {
    margin-bottom: 3rem;
}

.home-section-title {
    color: var(--title-color);
    font-size: 2rem;
    font-weight: bold;
}

.home-row {
    margin-bottom: 2.5rem;
}

.home-row-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
    flex-wrap: wrap;
    gap: 1rem;
    transform: translateY(55%);
}

.home-row-title {
    color: var(--title-color);
    font-size: 1.2rem;
    font-weight: bold;
    margin: 0;
    padding-bottom: 0.5rem;
}

.home-row-filters {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.home-filter-btn {
    background: transparent;
    border: 1px solid var(--border-color);
    color: var(--text-color);
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 0.9rem;
}

.home-filter-btn:hover {
    border-color: var(--hover-color);
    color: var(--hover-color);
}

.home-filter-btn.active {
    background: var(--hover-color);
    border-color: var(--hover-color);
    color: var(--title-color);
}

.home-row-content {
    position: relative;
    min-height: 300px;
}

.home-loading,
.home-error {
    text-align: center;
    color: var(--text-color);
    padding: 2rem;
    opacity: 0.7;
}

.home-row-scroll {
    display: flex;
    gap: 0.3rem;
    overflow-x: auto;
    overflow-y: hidden;
    padding: 0.5rem 0;
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;

    /* Firefox */
    -ms-overflow-style: none;

    /* IE and Edge */
}

.home-row-scroll::-webkit-scrollbar {
    display: none;

    /* Chrome, Safari, Opera */
    width: 0;
    height: 0;
}

.home-row-scroll::-webkit-scrollbar-track {
    display: none;
}

.home-row-scroll::-webkit-scrollbar-thumb {
    display: none;
}

.home-row-scroll-controls {
    display: flex;
    gap: 0.5rem;
}

.home-scroll-btn {
    background: var(--card-bg);
    border: 0px solid var(--border-color);
    color: var(--text-color);
    width: 32px;
    height: 32px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    font-weight: bold;
    transition: all 0.2s;
    padding: 0;
    line-height: 1;
}

.home-scroll-btn:hover {
    background: var(--hover-color);
    color: white;
    border-color: var(--hover-color);
    transform: scale(1.1);
}

.home-scroll-btn:active {
    transform: scale(0.95);
}

.home-item-card {
    flex: 0 0 200px;
    min-width: 200px;
    max-width: 200px;
    cursor: pointer;
    transition: transform 0.2s;
}

.home-item-card:hover .home-item-poster {
    transform: scale(1.01);
}

.home-item-poster {
    position: relative;
    width: 200px;
    min-width: 200px;
    max-width: 200px;
    aspect-ratio: 2/3;
    border-radius: 10px;
    overflow: hidden;
    margin-bottom: 0.5rem;
    background: var(--card-bg);
    flex-shrink: 0;
    transform: scale(0.95);
    transition: transform 0.3s ease;

    /* 5% smaller */
}

/* Games on home screen use horizontal portrait (Steam format) and are 45% bigger */
.home-item-card-game {
    flex: 0 0 362.5px;
    min-width: 362.5px;
    max-width: 362.5px;
}

.home-item-card-game .home-item-poster {
    aspect-ratio: 460/215;
    width: 362.5px;
    min-width: 362.5px;
    max-width: 362.5px;
    transform: scale(1.0);

    /* Remove the default 0.95 scale for games */
}

/* Actors/People on home screen use circular posters */
.home-item-card-actor {
    flex: 0 0 200px;
    min-width: 200px;
    max-width: 200px;
}

.home-item-card-actor .home-item-poster {
    aspect-ratio: 1/1;
    width: 200px;
    min-width: 200px;
    max-width: 200px;
    border-radius: 50%;
    transform: scale(0.95);
}

.home-item-card-actor .home-item-info {
    max-width: 200px;
    text-align: center;
}

.home-item-poster img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: filter 0.2s;
}

.home-item-card:hover .home-item-poster img {
    filter: brightness(0.7);
}

.home-item-hover-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.2s, background 0.2s;
    pointer-events: none;
}

.home-item-card:hover .home-item-hover-overlay {
    opacity: 1;
    background: rgba(0, 0, 0, 0.5);
}

.home-hover-play-button {
    font-size: 1.2rem;
    color: white;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
}

.home-hover-score {
    color: white;
    font-size: 1rem;
    font-weight: bold;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
    background: rgba(0, 0, 0, 0.6);
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
}

.home-item-placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-color);
    opacity: 0.5;
    background: var(--card-bg);
}

.home-item-rating {
    position: absolute;
    bottom: 0.5rem;
    left: 0.5rem;
    width: 40px;
    height: 40px;
    background: rgba(8, 28, 21, 0.9);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: opacity 0.2s;
    z-index: 1;
}

.home-item-rating .score-ring {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.home-item-rating .score-value {
    font-size: 0.7rem;
    font-weight: bold;
    color: #fff;
    z-index: 2;
}

.home-item-rating .score-value sup {
    font-size: 0.4rem;
    vertical-align: super;
}

/* Score circle stays visible on hover */

.home-item-info {
    color: var(--text-color);
    width: 100%;
    max-width: 200px;
}

.home-item-title {
    font-weight: bold;
    font-size: 0.95rem;
    margin-bottom: 0.25rem;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    width: 100%;
}

.home-item-subtitle {
    font-size: 0.85rem;
    opacity: 0.7;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    line-height: 1.4;
    max-height: 3.6em;
    word-wrap: break-word;
    width: 100%;
}

/* For trailers, limit subtitle to 2 lines */
.trailer-card .home-item-subtitle {
    -webkit-line-clamp: 2;
    max-height: 2.8em;
}

/* Scrollbar Styling */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: var(--dropdown-color);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--hover-color);
}

/* Firefox scrollbar */
* {
    scrollbar-width: thin;
    scrollbar-color: var(--dropdown-color) transparent;
}

/* Fix Movies tab shifting right */
.library-view {
    width: 100%;
    margin: 0 auto;
    padding: 0;

    /* remove any inherited padding */
}

.library-view .grid-container {
    padding: 0;

    /* remove inner left/right padding */
    justify-content: center;
}

/* ===== NEW DETAIL VIEW GRID SYSTEM ===== */
/* Edit --grid-row, --grid-col numbers inline to change positions */
.detail-content:not(.actor-layout) {
    display: grid;
    grid-template-columns: 350px minmax(0, 1fr) 320px;

    /* Poster, main column, sidebar */
    grid-auto-rows: auto;
    gap: 2rem;
    padding: 2rem;
    align-items: start;
}

/* Apply grid positioning using CSS variables (only if not using custom absolute layout) */
.detail-poster-container:not([data-has-custom-layout]),
.detail-trailer-section:not([data-has-custom-layout]),
.detail-recommendations-section:not([data-has-custom-layout]),
.detail-reviews-section:not([data-has-custom-layout]),
.detail-info:not([data-has-custom-layout]),
.detail-sidebar-column:not([data-has-custom-layout]) {
    grid-row: var(--grid-row) / span var(--grid-row-span, 1);
    grid-column: var(--grid-col) / span var(--grid-col-span, 1);
}

/* Elements with custom layout should use absolute positioning */
.detail-content:not(.actor-layout) [data-has-custom-layout="true"] {
    position: absolute !important;
}

/* ===== TRAILER SECTION ===== */
.detail-trailer-section {
    background: transparent;
    border-radius: 0;
    padding: 0;
    min-height: 400px;
}

.trailer-container {
    position: relative;
    padding-bottom: 56.25%;

    /* 16:9 aspect ratio */
    height: 0;
    overflow: hidden;
}

.trailer-container iframe,
.trailer-container video {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 8px;
}

/* ===== RECOMMENDATIONS SECTION ===== */
.detail-recommendations-section {
    background: transparent;
    border-radius: 0;
    padding: 0;
}

.recommendations-container {
    display: flex;
    gap: 1rem;
    overflow-x: auto;
    overflow-y: hidden;
    padding: 0.5rem 0;
    scroll-behavior: smooth;
    scrollbar-width: thin;
}

.recommendations-container::-webkit-scrollbar {
    height: 6px;
}

.recommendations-container::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 3px;
}

.recommendations-container::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2);
    border-radius: 3px;
}

.recommendation-item {
    cursor: pointer;
    transition: transform 0.2s;
    text-align: center;
    flex: 0 0 150px;
    min-width: 150px;
}

/* Game recommendations use horizontal layout */
.recommendation-item[data-type="games"] {
    flex: 0 0 300px;
    min-width: 300px;
}

.recommendation-item:hover {
    transform: scale(1.05);
}

.recommendation-poster {
    width: 150px;
    height: 225px;
    object-fit: cover;
    border-radius: 8px;
    margin-bottom: 0.5rem;
}

/* Game posters are horizontal/landscape */
.recommendation-item[data-type="games"] .recommendation-poster {
    width: 300px;
    height: 140px;
    object-fit: cover;
}

.recommendation-title {
    font-size: 0.85rem;
    color: var(--text-color);
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    line-height: 1.3;
    width: 150px;
}

/* Game titles match horizontal poster width */
.recommendation-item[data-type="games"] .recommendation-title {
    width: 300px;
}

/* ===== REVIEWS SECTION ===== */
.detail-reviews-section {
    background: transparent;
    border-radius: 0;
    padding: 0;
    max-height: 600px;
    overflow-y: auto;
}

.review-item {
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    padding: 1rem 0;
}

.review-item:last-child {
    border-bottom: none;
}

.review-author {
    font-weight: 500;
    color: var(--title-color);
    margin-bottom: 0.25rem;
    text-transform: capitalize;
    letter-spacing: 0.02em;
}

.review-content {
    color: var(--text-color);
    line-height: 1.6;
    opacity: 0.65;
}

/* ===== INFORMATION SIDEBAR ===== */
.detail-information-sidebar {
    background: transparent;
    border-radius: 0;
    padding: 0;
    max-height: none;
    overflow-y: visible;
}

.information-content {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.info-row {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.info-label {
    font-weight: 700;
    color: var(--title-color);
    text-transform: capitalize;
    font-size: 0.80rem;
    opacity: 1;
}

.info-value {
    color: var(--text-color);
    word-wrap: break-word;
    padding-left: 0;
    font-size: 0.95rem;
    opacity: 0.65;
}

.section-title {
    color: var(--title-color);
    font-size: 1.25rem;
    margin-bottom: 1rem;
    border-bottom: 2px solid var(--hover-color);
    padding-bottom: 0.5rem;
}

.detail-information-sidebar .section-title,
.detail-reviews-section .section-title,
.detail-trailer-section .section-title,
.detail-recommendations-section .section-title {
    position: relative;
    top: 0;
}

.detail-content:not(.actor-layout) .detail-information-sidebar .section-title,
.detail-content:not(.actor-layout) .detail-reviews-section .section-title,
.detail-content:not(.actor-layout) .detail-trailer-section .section-title,
.detail-content:not(.actor-layout) .detail-recommendations-section .section-title {
    border-bottom: none;
    padding-bottom: 0;
}

/* ===== LAYOUT EDITOR ===== */
.edit-layout-btn {
    display: none !important;
}

.edit-layout-btn:hover {
    display: none !important;
}

.layout-editor-controls {
    display: none !important;
}

.layout-editor-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.layout-editor-header h3 {
    color: var(--title-color);
    font-size: 1.3rem;
    margin: 0;
}

.layout-editor-actions {
    display: flex;
    gap: 0.75rem;
}

.layout-btn {
    background: var(--card-bg);
    color: var(--text-color);
    border: 1px solid var(--border-color);
    padding: 0.5rem 1rem;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.9rem;
    transition: all 0.2s;
}

.layout-btn:hover {
    background: var(--hover-color);
    color: white;
    border-color: var(--hover-color);
}

.layout-btn-close {
    background: rgba(255, 59, 48, 0.2);
    border-color: rgba(255, 59, 48, 0.5);
}

.layout-btn-close:hover {
    background: rgba(255, 59, 48, 0.9);
}

.layout-editor-info {
    background: rgba(138, 180, 248, 0.1);
    border: 1px solid rgba(138, 180, 248, 0.3);
    border-radius: 8px;
    padding: 0.75rem;
    margin-top: 1rem;
}

.layout-editor-info p {
    margin: 0;
    color: var(--text-color);
    font-size: 0.9rem;
}

/* Layout Edit Mode Styles */
.layout-edit-mode .detail-trailer-section,
.layout-edit-mode .detail-recommendations-section,
.layout-edit-mode .detail-reviews-section,
.layout-edit-mode .detail-sidebar-column {
    position: absolute !important;
    border: 2px solid var(--hover-color);
    cursor: move;
    transition: none;
    z-index: 10;
}

.layout-edit-mode .detail-trailer-section:hover,
.layout-edit-mode .detail-recommendations-section:hover,
.layout-edit-mode .detail-reviews-section:hover,
.layout-edit-mode .detail-sidebar-column:hover {
    border-color: #00d4ff;
    box-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
    z-index: 20;
}

.layout-edit-mode .detail-content:not(.actor-layout) {
    position: relative;
    min-height: 2000px;
    min-width: 100%;
    overflow: visible;
}

.layout-edit-mode .detail-trailer-section::before,
.layout-edit-mode .detail-recommendations-section::before,
.layout-edit-mode .detail-reviews-section::before,
.layout-edit-mode .detail-sidebar-column::before {
    content: attr(data-section-name);
    position: absolute;
    top: -2px;
    left: -2px;
    background: var(--hover-color);
    color: white;
    padding: 0.25rem 0.75rem;
    font-size: 0.75rem;
    font-weight: 600;
    border-radius: 4px 0 4px 0;
    z-index: 10;
}

/* Resize handles */
.resize-handle {
    position: absolute;
    background: var(--hover-color);
    z-index: 30;
}

.resize-handle-n {
    top: -4px;
    left: 50%;
    transform: translateX(-50%);
    width: 40px;
    height: 8px;
    cursor: ns-resize;
    border-radius: 4px;
}

.resize-handle-s {
    bottom: -4px;
    left: 50%;
    transform: translateX(-50%);
    width: 40px;
    height: 8px;
    cursor: ns-resize;
    border-radius: 4px;
}

.resize-handle-e {
    right: -4px;
    top: 50%;
    transform: translateY(-50%);
    width: 8px;
    height: 40px;
    cursor: ew-resize;
    border-radius: 4px;
}

.resize-handle-w {
    left: -4px;
    top: 50%;
    transform: translateY(-50%);
    width: 8px;
    height: 40px;
    cursor: ew-resize;
    border-radius: 4px;
}

.resize-handle-nw {
    top: -4px;
    left: -4px;
    width: 12px;
    height: 12px;
    cursor: nwse-resize;
    border-radius: 50%;
}

.resize-handle-ne {
    top: -4px;
    right: -4px;
    width: 12px;
    height: 12px;
    cursor: nesw-resize;
    border-radius: 50%;
}

.resize-handle-sw {
    bottom: -4px;
    left: -4px;
    width: 12px;
    height: 12px;
    cursor: nesw-resize;
    border-radius: 50%;
}

.resize-handle-se {
    bottom: -4px;
    right: -4px;
    width: 12px;
    height: 12px;
    cursor: nwse-resize;
    border-radius: 50%;
}

.section-info {
    position: absolute;
    bottom: 0.5rem;
    right: 0.5rem;
    background: rgba(0, 0, 0, 0.8);
    border: 1px solid var(--hover-color);
    border-radius: 4px;
    padding: 0.25rem 0.5rem;
    font-size: 0.7rem;
    color: var(--text-color);
    pointer-events: none;
    z-index: 30;
}

/* ===== TOP CAST (New Grid Position) ===== */
/* Hide specific detail extra meta rows */
.detail-extra-row-studio,
.detail-extra-row-time-to-beat {
    display: none !important;
}

/* Move detail extra meta for movies */
.detail-extra-meta-movies {
    transform: translate(-218%, 2235%);
    display: none !important;
}

/* Move detail extra meta for series */
.detail-extra-meta-tv {
    transform: translate(-290%, 2100%);
    display: none !important;
}

/* FORCE the Add Menu upward */
.add-menu {
    top: -700% !important;
}

/* Trailer Modal - make it match the Interviews video modal style (bigger, darker overlay, no white border) */
/* Darken overlay specifically for the trailer modal and center content */
.modal#trailerModal {
    background: rgba(0, 0, 0, 0.94);
}

.trailer-modal-content {
    width: 95%;
    max-width: 1200px;

    /* match interviews modal max width */
    background: #000;
    padding: 0;
    position: relative;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 0 30px rgba(0, 0, 0, 0.9);

    /* Remove the default modal-content border so there's no white border */
    border: none !important;
}

/* Use a fixed 16:9 aspect ratio container like the interviews modal */
.trailer-container {
    position: relative;
    width: 100%;
    aspect-ratio: 16/9;
    height: auto;
    overflow: hidden;
}

.trailer-container iframe {
    width: 100%;
    height: 100%;
    border-radius: 8px;
    border: 0;

    /* ensure iframe has no white border */
    display: block;
}

/* Scroll-to-top button (Library view) */
.scroll-top-btn {
    position: fixed;
    right: 20px;
    bottom: 28px;
    width: 44px;
    height: 44px;
    border-radius: 8px;
    background: rgba(0, 0, 0, 0.157);
    color: var(--text-color);
    border: none;
    display: none;

    /* shown only in library view */
    align-items: center;
    justify-content: center;
    font-size: 1.3rem;
    cursor: pointer;
    z-index: 1200;
    transition: transform 0.15s ease, opacity 0.15s ease;
}

.scroll-top-btn.show {
    display: flex;
    opacity: 1;
}

.scroll-top-btn:hover {
    color: var(--hover-color);
}

.close-trailer-btn {
    position: absolute;
    top: -40px;
    right: 0;
    background: none;
    border: none;
    color: white;
    font-size: 2rem;
    cursor: pointer;
    z-index: 1001;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
}

.close-trailer-btn:hover {
    color: var(--hover-color);
}

/* Trailer Carousel (Stacked Card View) */
.trailer-carousel-container {
    position: relative;
    width: 100%;
    height: 600px;

    /* Increased to accommodate title below */
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: visible;

    /* Allow title to show below */
    perspective: 1000px;
    margin-bottom: 3rem;

    /* Extra margin for title space */
}

.trailer-carousel-track {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.trailer-card-3d {
    position: absolute;
    width: 736px;

    /* 16:9 aspect ratio base width */
    height: 414px;
    background: #000;
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    transition: all 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
    cursor: pointer;
    overflow: visible;

    /* Allow title to show outside */
    display: flex;
    flex-direction: column;
}

.trailer-card-3d img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0.6;
    transition: opacity 0.3s;
    border-radius: 12px;

    /* Match parent border radius */
}

.trailer-card-3d.active img {
    opacity: 1;
}

.trailer-card-3d .play-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0.8);
    width: 60px;
    height: 60px;
    background: rgba(0, 0, 0, 0);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 34px;
    opacity: 0;
    transition: all 0.3s;
}

.trailer-card-3d.active .play-icon {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
}

.trailer-card-3d:hover .play-icon {
    transform: translate(-50%, -50%) scale(1.2);
}

.trailer-info-overlay {
    position: absolute;
    bottom: -70px;

    /* Position clearly below the card */
    left: 0;
    right: 0;
    padding: 10px 20px;
    background: transparent;
    text-align: center;
    transform: translateY(0);
    opacity: 1;

    /* Always visible */
    transition: all 0.3s;
    pointer-events: none;

    /* Don't interfere with card clicks */
}

.trailer-card-3d.active .trailer-info-overlay {
    transform: translateY(0);
    opacity: 1;
}

.trailer-title-3d {
    font-size: 1.1rem;
    font-weight: bold;
    color: var(--text-color);
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
    margin: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    font-family: var(--font-family);
}

/* Carousel Navigation Buttons */
.carousel-nav-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: var(--card-bg);
    color: white;
    border: 0px solid var(--border-color);
    width: 50px;
    height: 50px;
    border-radius: 50%;
    font-size: 24px;
    cursor: pointer;
    z-index: 100;
    transition: background 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: -65px;
    margin-left: -65px;
}

.carousel-nav-btn:hover {
    background: var(--hover-color);
}

.carousel-prev {
    left: 20px;
}

.carousel-next {
    right: 20px;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .trailer-card-3d {
        width: 90%;
        height: auto;
        aspect-ratio: 16/9;
    }

    .trailer-carousel-container {
        height: 300px;
    }
}

/* Category Shortcuts */
.category-shortcuts-section {
    margin-bottom: 2rem;
}

.category-shortcuts-card {
    display: flex;
    gap: 1rem;
    width: 100%;
}

.category-box {
    flex: 1;
    position: relative;
    cursor: pointer;
    border-radius: 12px;
    overflow: hidden;
    aspect-ratio: 16/9;
    background-color: var(--card-bg);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.3s ease;
}

.category-box:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 12px rgba(0, 0, 0, 0.5);
}

.category-image-container {
    width: 100%;
    height: 100%;
    position: relative;
}

.category-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1), filter 0.3s ease;
    background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
    min-height: 100px;
}

/* Hide broken image icon */
.category-img:not([src]),
.category-img[src=""] {
    opacity: 0.3;
}

.category-preview-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1), filter 0.3s ease;
    background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
    min-height: 200px;
}

/* Hide broken image icon for preview */
.category-preview-img:not([src]),
.category-preview-img[src=""] {
    opacity: 0.3;
}

.category-box:hover .category-img {
    transform: scale(1.1);
}

.category-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0.2) 50%, rgba(0, 0, 0, 0.1) 100%);
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    padding: 1rem;
    transition: background 0.3s ease;
}

.category-box:hover .category-overlay {
    background: linear-gradient(to top, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0.3) 50%, rgba(0, 0, 0, 0.1) 100%);
}

.category-name {
    color: var(--title-color);
    font-size: 1.rem;
    font-weight: bold;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
    transform: translateY(0);
    transition: transform 0.3s ease, color 0.3s ease;
}

.category-box:hover .category-name {
    transform: translateY(-2px);
    color: var(--hover-color);
}

.category-upload-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    background: rgba(0, 0, 0, 0.6);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: white;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    opacity: 0;
    transform: translateY(-10px);
    transition: all 0.3s ease;
    z-index: 5;
}

.category-upload-btn:hover {
    background: var(--hover-color);
    border-color: var(--hover-color);
}

.category-box:hover .category-upload-btn {
    opacity: 1;
    transform: translateY(0);
}

/* Featured Category Box */
.featured-category-box {
    width: 100%;
    height: 300px;
    border-radius: 16px;
    overflow: hidden;
    position: relative;
    margin-bottom: 1.5rem;
    cursor: pointer;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.3s ease;
}

.featured-category-box:hover {
    transform: scale(1.01);
    box-shadow: 0 12px 32px rgba(0, 0, 0, 0.6);
}

.featured-image-container {
    width: 100%;
    height: 100%;
    position: relative;
}

.featured-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

.featured-category-box:hover .featured-img {
    transform: scale(1.05);
}

.featured-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0.4) 40%, rgba(0, 0, 0, 0.1) 100%);
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    padding: 2rem;
}

.featured-name {
    color: var(--title-color);
    font-size: 3rem;
    font-weight: 800;
    margin-bottom: 0.5rem;
    text-shadow: 0 4px 8px rgba(0, 0, 0, 0.6);
    letter-spacing: -0.5px;
}

.featured-action {
    color: var(--hover-color);
    font-size: 1.1rem;
    font-weight: 500;
    opacity: 0;
    transform: translateY(10px);
    transition: all 0.3s ease;
}

.featured-category-box:hover .featured-action {
    opacity: 1;
    transform: translateY(0);
}

/* Category Shortcuts Row */
.category-shortcuts-row {
    display: flex;
    gap: 1rem;
    width: 100%;
}

.category-box.small-box {
    aspect-ratio: 16/9;
    height: 100px;

    /* Fixed height for smaller boxes */
    flex: 1;
    border: 2px solid transparent;
    transition: all 0.3s ease;
}

.category-box.small-box.active {
    border-color: var(--hover-color);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(255, 0, 0, 0.2);
}

.category-box.small-box .category-name {
    font-size: 1rem;
}

.category-box.small-box .category-upload-btn {
    width: 24px;
    height: 24px;
    top: 6px;
    right: 6px;
}

.category-box.small-box .category-upload-btn svg {
    width: 14px;
    height: 14px;
}

/* Updated Category Shortcuts Layout */
.category-shortcuts-section {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-bottom: 3rem;
}

/* Featured Big Card */
.category-featured-card {
    width: 100%;
    aspect-ratio: 21/9;
    max-height: 400px;
    border-radius: 16px;
    overflow: hidden;
    position: relative;
    cursor: pointer;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.3s ease;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.category-featured-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.6);
    border-color: var(--hover-color);
}

.category-featured-card .category-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.7s cubic-bezier(0.4, 0, 0.2, 1);
}

.category-featured-card:hover .category-img {
    transform: scale(1.05);
}

.category-featured-card .category-overlay {
    background: linear-gradient(to top, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0.4) 50%, rgba(0, 0, 0, 0.1) 100%);
    padding: 2rem;
    align-items: flex-start;
}

.category-featured-card .category-name {
    font-size: 3rem;
    margin-bottom: 0.5rem;
    transform: translateY(0);
}

.category-action-hint {
    color: rgba(255, 255, 255, 0.7);
    font-size: 1rem;
    opacity: 0;
    transform: translateY(10px);
    transition: all 0.3s ease 0.1s;
}

.category-featured-card:hover .category-action-hint {
    opacity: 1;
    transform: translateY(0);
}

/* Small Selection Cards Row */
.category-shortcuts-row {
    display: flex;
    gap: 1rem;
    width: 100%;
}

.category-box-small {
    flex: 1;
    height: 80px;
    border-radius: 8px;
    overflow: hidden;
    position: relative;
    cursor: pointer;
    opacity: 0.6;
    transition: all 0.3s ease;
    border: 2px solid transparent;
}

.category-box-small:hover {
    opacity: 1;
    transform: translateY(-2px);
}

.category-box-small.active {
    opacity: 1;
    border-color: var(--hover-color);
    box-shadow: 0 0 15px rgba(var(--hover-color-rgb), 0.3);
}

.category-box-small .category-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.category-box-small .category-overlay {
    background: rgba(0, 0, 0, 0.5);
    justify-content: center;
    align-items: center;
    padding: 0;
}

.category-box-small:hover .category-overlay {
    background: rgba(0, 0, 0, 0.3);
}

.category-box-small .category-name {
    font-size: 1rem;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.9);
}

.category-box-small .category-upload-btn {
    width: 24px;
    height: 24px;
    top: 4px;
    right: 4px;
}

.category-box-small .category-upload-btn svg {
    width: 14px;
    height: 14px;
}

/* Category Preview Box (Large) - Full Width */
.category-preview-box {
    position: relative;
    cursor: pointer;
    border-radius: 0;
    overflow: hidden;
    aspect-ratio: 30/9;

    /* Reduced height by 30% (was 21/9) */
    background-color: var(--card-bg);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
    margin-bottom: 1rem;

    /* Break out of app-container to span full viewport width */
    width: 100vw;
    margin-left: calc(-1 * ((100vw - 67.3vw) / 2));
    margin-right: calc(-1 * ((100vw - 67.3vw) / 2));
}

/* Hover effects removed from preview box */
.category-preview-box.active {
    border: 2px solid var(--hover-color);
}

.category-preview-image-container {
    width: 100%;
    height: 100%;
    position: relative;
}

.category-preview-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1), filter 0.3s ease;
}

/* Image scale on hover removed */
.category-preview-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.85) 0%, rgba(0, 0, 0, 0.3) 40%, rgba(0, 0, 0, 0.1) 100%);
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    padding: 2rem;
    transition: background 0.3s ease;
}

/* Overlay hover effect removed */
.category-preview-name {
    color: rgb(255, 255, 255);
    font-size: 18rem;
    font-weight: bold;
    font-family: fantasy;
    text-shadow: 0 3px 6px rgba(0, 0, 0, 0.9);
    transform: translate(55px, -55px);
    transition: transform 0.3s ease, color 0.3s ease;
}

/* Name hover effect removed */
.category-preview-upload-btn {
    display: none !important;
}

/* Hide category upload buttons */
.category-upload-btn {
    display: none !important;
}

/* Small Category Boxes - Updated */
.category-shortcuts-card {
    display: flex;
    gap: 0.75rem;
    width: 100%;
}

.category-box {
    flex: 1;
    position: relative;
    cursor: pointer;
    border-radius: 10px;
    overflow: hidden;
    aspect-ratio: 16/9;
    background-color: var(--card-bg);
    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.3s ease, border 0.3s ease;
    border: 2px solid transparent;
}

.category-box:hover {
    transform: translateY(-4px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.5);
}

.category-box.active {
    border-color: var(--hover-color);
}

.category-name {
    color: var(--title-color);
    font-size: 0.95rem;
    font-weight: bold;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
    transform: translateY(0);
    transition: transform 0.3s ease, color 0.3s ease;
}

.category-box:hover .category-name {
    transform: translateY(-2px);
    color: var(--hover-color);
}

.category-upload-btn {
    position: absolute;
    top: 8px;
    right: 8px;
    background: rgba(0, 0, 0, 0.6);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: white;
    width: 28px;
    height: 28px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    opacity: 0;
    transform: translateY(-8px);
    transition: all 0.3s ease;
    z-index: 5;
}

/* Hide subtext under singer posters (Spotify known-for tracks) */
.linked-movie-grid-item.spotify-track .linked-movie-sub,
.spotify-track .linked-movie-sub {
    display: none !important;
}

/* ===================================================
   TRAILER MODAL - YouTube Video Player
   =================================================== */
.trailer-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.95);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 100000;
}

.trailer-modal.show {
    display: flex;
}

.trailer-modal-content {
    position: relative;
    width: 90%;
    max-width: 1200px;
    aspect-ratio: 16/9;
    background: #000;
    border-radius: 8px;
    overflow: hidden;
}

.trailer-modal-close {
    position: absolute;
    top: -50px;
    right: 0;
    width: 44px;
    height: 44px;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    color: white;
    font-size: 28px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    z-index: 10;
}

.trailer-modal-close:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: scale(1.1);
}

#trailerIframe {
    width: 100%;
    height: 100%;
    border: none;
}


/* Runtime Range Slider */
.runtime-slider-container {
    position: relative;
    width: 100%;
    height: 60px;
    margin-top: 15px;
    margin-bottom: 5px;
}

.slider-track-bg {
    position: absolute;
    top: 25px;
    /* Vertically centered relative to container roughly */
    left: 0;
    width: 100%;
    height: 4px;
    background: #333;
    border-radius: 2px;
    z-index: 1;
}

.slider-track-fill {
    position: absolute;
    top: 25px;
    height: 4px;
    background: var(--dropdown-color);
    /* Uses theme color (red/blue etc) */
    border-radius: 2px;
    z-index: 2;
    /* Left and width set by JS */
}

.slider-range {
    -webkit-appearance: none;
    appearance: none;
    position: absolute;
    top: 12px;
    /* Aligns thumb center to track center roughly */
    left: 0;
    width: 100%;
    height: 30px;
    /* Hit area */
    background: transparent;
    pointer-events: none;
    /* Let clicks pass through logic */
    z-index: 3;
    margin: 0;
    padding: 0;
    border: none;
}

/* Thumb Styles - Webkit */
.slider-range::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    pointer-events: auto;
    /* Catch clicks on thumb */
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: var(--dropdown-color);
    border: 2px solid #fff;
    cursor: pointer;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
    margin-top: 0px;
    /* Relative to height? */
}

/* Thumb Styles - Firefox */
.slider-range::-moz-range-thumb {
    pointer-events: auto;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: var(--dropdown-color);
    border: 2px solid #fff;
    cursor: pointer;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
    border: none;
}

/* Focus styles */
.slider-range:focus {
    outline: none;
}

.slider-ticks {
    position: absolute;
    top: 35px;
    left: 1%;
    /* Indent slightly to match thumb centers at ends */
    width: 98%;
    display: flex;
    justify-content: space-between;
    font-size: 0.7rem;
    color: #888;
}

.slider-ticks span {
    position: relative;
    display: flex;
    justify-content: center;
    width: 0;
}

/* Tick notches */
.slider-ticks span::before {
    content: '';
    position: absolute;
    top: -8px;
    width: 1px;
    height: 5px;
    background: #555;
}

.slider-values-display {
    position: absolute;
    top: -5px;
    right: 0;
    font-size: 0.8rem;
    font-weight: 500;
    color: var(--text-color);
}

/ *   = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =           M I N I M A L I S T   H O M E   P A G E   R E D E S I G N           C l e a n ,
   s i m p l e   d e s i g n   -   n o   g l o w ,
   m i n i m a l   c o l o r s           = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =   * /         / *   E n s u r e   a l l   h o m e   e l e m e n t s   u s e   M o m o   T r u s t   S a n s   * /     . h o m e - v i e w ,
     . h o m e - v i e w   *    {
     :    v a r ( - - f o n t - f a m i l y ) ;
}

         / *   H o m e   V i e w   -   C l e a n   p a d d i n g   * /     . h o m e - v i e w    {
     :    1 r e m   0   2 r e m   0 ;
}

         / *   = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =           C A T E G O R Y   S H O R T C U T S   -   S I M P L I F I E D           = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =   * /         . c a t e g o r y - s h o r t c u t s - s e c t i o n    {
     :    2 r e m ;
     :    f l e x ;
     :    c o l u m n ;
     :    0 . 5 r e m ;
}

         / *   L a r g e   P r e v i e w   B o x   -   C l e a n e r ,
   n o   f a n c y   s h a d o w s   * /     . c a t e g o r y - p r e v i e w - b o x    {
     :    r e l a t i v e ;
     :    p o i n t e r ;
     :    0 ;
     :    h i d d e n ;
     :    2 1 / 6 ;
     :    # 1 1 1 ;
     :    n o n e ;
     :    0 . 5 r e m ;
     :    1 0 0 v w ;
     :    c a l c ( - 1   *   ( ( 1 0 0 v w   -   6 7 . 3 v w )   /   2 ) ) ;
     :    c a l c ( - 1   *   ( ( 1 0 0 v w   -   6 7 . 3 v w )   /   2 ) ) ;
     :    n o n e ;
}

         . c a t e g o r y - p r e v i e w - b o x : h o v e r    {
     :    n o n e ;
}

         . c a t e g o r y - p r e v i e w - b o x . a c t i v e    {
     :    n o n e ;
}

         . c a t e g o r y - p r e v i e w - i m g    {
     :    1 0 0 % ;
     :    1 0 0 % ;
     :    c o v e r ;
     :    n o n e ;
     :    b r i g h t n e s s ( 0 . 6 ) ;
}

         . c a t e g o r y - p r e v i e w - o v e r l a y    {
     :    a b s o l u t e ;
     :    0 ;
     :    l i n e a r - g r a d i e n t ( t o   t o p ,                              r g b a ( 0 ,    0 ,    0 ,    0 . 9 )   0 % ,                              r g b a ( 0 ,    0 ,    0 ,    0 . 4 )   5 0 % ,                              t r a n s p a r e n t   1 0 0 % ) ;
     :    f l e x ;
     :    c o l u m n ;
     :    f l e x - e n d ;
     :    1 . 5 r e m   2 r e m ;
     :    n o n e ;
}

         . c a t e g o r y - p r e v i e w - n a m e    {
     :    w h i t e ;
     :    1 8 r e m ;
     :    7 0 0 ;
     :    v a r ( - - f o n t - f a m i l y ) ;
     :    n o n e ;
     :    n o n e ;
     :    u p p e r c a s e ;
     :    n o n e ;
}

         / *   S m a l l   C a t e g o r y   B o x e s   -   M i n i m a l   s t y l e   * /     . c a t e g o r y - s h o r t c u t s - c a r d    {
     :    f l e x ;
     :    0 . 2 5 r e m ;
     :    1 0 0 % ;
     :    1 1 r e m ;
}

         . c a t e g o r y - b o x    {
     :    1 ;
     :    r e l a t i v e ;
     :    p o i n t e r ;
     :    8 p x ;
     :    h i d d e n ;
     :    2 1 / 9 ;
     :    # 1 1 1 ;
     :    0   2 p x   8 p x   r g b a ( 0 ,    0 ,    0 ,    0 . 3 ) ;
     :                      t r a n s f o r m   0 . 5 s   c u b i c - b e z i e r ( 0 . 2 5 ,    0 . 4 6 ,    0 . 4 5 ,    0 . 9 4 ) ,                      b o x - s h a d o w   0 . 5 s   c u b i c - b e z i e r ( 0 . 2 5 ,    0 . 4 6 ,    0 . 4 5 ,    0 . 9 4 ) ;
     :    n o n e ;
     :    t r a n s f o r m ;
}

         . c a t e g o r y - b o x : h o v e r    {
     :    s c a l e ( 1 . 0 5 )   t r a n s l a t e Y ( - 4 p x ) ;
     :    0   1 2 p x   3 2 p x   r g b a ( 0 ,    0 ,    0 ,    0 . 4 ) ;
}

         . c a t e g o r y - b o x . a c t i v e    {
     :    n o n e ;
     :    1 ;
}

         . c a t e g o r y - i m a g e - c o n t a i n e r    {
     :    1 0 0 % ;
     :    1 0 0 % ;
     :    r e l a t i v e ;
}

         . c a t e g o r y - i m g    {
     :    1 0 0 % ;
     :    1 0 0 % ;
     :    c o v e r ;
     :    b r i g h t n e s s ( 0 . 5 )   g r a y s c a l e ( 2 0 % ) ;
     :                      f i l t e r   0 . 5 s   c u b i c - b e z i e r ( 0 . 2 5 ,    0 . 4 6 ,    0 . 4 5 ,    0 . 9 4 ) ,                      t r a n s f o r m   0 . 6 s   c u b i c - b e z i e r ( 0 . 2 5 ,    0 . 4 6 ,    0 . 4 5 ,    0 . 9 4 ) ;
     :    t r a n s f o r m ,    f i l t e r ;
}

         . c a t e g o r y - b o x : h o v e r   . c a t e g o r y - i m g    {
     :    b r i g h t n e s s ( 0 . 7 )   g r a y s c a l e ( 0 % ) ;
     :    s c a l e ( 1 . 0 8 ) ;
}

         . c a t e g o r y - b o x . a c t i v e   . c a t e g o r y - i m g    {
     :    b r i g h t n e s s ( 0 . 7 )   g r a y s c a l e ( 0 % ) ;
}

         . c a t e g o r y - o v e r l a y    {
     :    a b s o l u t e ;
     :    0 ;
     :    l i n e a r - g r a d i e n t ( t o   t o p ,    r g b a ( 0 ,    0 ,    0 ,    0 . 7 )   0 % ,    t r a n s p a r e n t   1 0 0 % ) ;
     :    f l e x ;
     :    c o l u m n ;
     :    f l e x - e n d ;
     :    f l e x - s t a r t ;
     :    0 . 7 5 r e m   1 r e m ;
     :    n o n e ;
}

         . c a t e g o r y - n a m e    {
     :    r g b a ( 2 5 5 ,    2 5 5 ,    2 5 5 ,    0 . 9 ) ;
     :    0 . 8 5 r e m ;
     :    5 0 0 ;
     :    n o n e ;
     :    n o n e ;
     :    0 . 1 5 e m ;
     :    u p p e r c a s e ;
     :    c o l o r   0 . 2 s   e a s e ;
}

         . c a t e g o r y - b o x : h o v e r   . c a t e g o r y - n a m e    {
     :    n o n e ;
     :    w h i t e ;
}

         . c a t e g o r y - u p l o a d - b t n    {
     :    n o n e    ! i m p o r t a n t ;
}

         . c a t e g o r y - p r e v i e w - u p l o a d - b t n    {
     :    n o n e    ! i m p o r t a n t ;
}

         / *   = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =           H O M E   S E C T I O N S   -   C L E A N   T Y P O G R A P H Y           = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =   * /         . h o m e - s e c t i o n    {
     :    2 r e m ;
}

         . h o m e - s e c t i o n - t i t l e    {
     :    v a r ( - - t i t l e - c o l o r ) ;
     :    0 . 7 5 r e m ;
     :    6 0 0 ;
     :    1 r e m ;
     :    0 . 2 e m ;
     :    u p p e r c a s e ;
     :    0 . 6 ;
     :    n o n e ;
     :    0 ;
}

         / *   = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =           H O M E   R O W S   -   S I M P L I F I E D           = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =   * /         . h o m e - r o w    {
     :    1 . 5 r e m ;
}

         . h o m e - r o w - h e a d e r    {
     :    f l e x ;
     :    s p a c e - b e t w e e n ;
     :    c e n t e r ;
     :    0 . 7 5 r e m ;
     :    w r a p ;
     :    0 . 5 r e m ;
     :    n o n e ;
}

         . h o m e - r o w - t i t l e    {
     :    v a r ( - - t e x t - c o l o r ) ;
     :    0 . 7 r e m ;
     :    5 0 0 ;
     :    0 ;
     :    0 . 1 5 e m ;
     :    u p p e r c a s e ;
     :    0 . 5 ;
}

         . h o m e - r o w - s c r o l l - c o n t r o l s    {
     :    f l e x ;
     :    0 . 2 5 r e m ;
}

         . h o m e - s c r o l l - b t n    {
     :    t r a n s p a r e n t ;
     :    1 p x   s o l i d   r g b a ( 2 5 5 ,    2 5 5 ,    2 5 5 ,    0 . 1 5 ) ;
     :    r g b a ( 2 5 5 ,    2 5 5 ,    2 5 5 ,    0 . 4 ) ;
     :    2 8 p x ;
     :    2 8 p x ;
     :    0 ;
     :    p o i n t e r ;
     :    f l e x ;
     :    c e n t e r ;
     :    c e n t e r ;
     :    0 . 9 r e m ;
     :    3 0 0 ;
     :    a l l   0 . 1 5 s   e a s e ;
     :    0 ;
     :    1 ;
}

         . h o m e - s c r o l l - b t n : h o v e r    {
     :    t r a n s p a r e n t ;
     :    w h i t e ;
     :    r g b a ( 2 5 5 ,    2 5 5 ,    2 5 5 ,    0 . 4 ) ;
     :    n o n e ;
}

         . h o m e - s c r o l l - b t n : a c t i v e    {
     :    n o n e ;
     :    0 . 7 ;
}

         / *   = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =           H O M E   R O W   C O N T E N T   -   C L E A N   S C R O L L           = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =   * /         . h o m e - r o w - c o n t e n t    {
     :    r e l a t i v e ;
     :    2 8 0 p x ;
}

         . h o m e - r o w - s c r o l l    {
     :    f l e x ;
     :    0 . 5 r e m ;
     :    a u t o ;
     :    h i d d e n ;
     :    0 . 2 5 r e m   0 ;
     :    s m o o t h ;
     :    t o u c h ;
     :    n o n e ;
     :    n o n e ;
}

         . h o m e - r o w - s c r o l l : : - w e b k i t - s c r o l l b a r    {
     :    n o n e ;
     :    0 ;
     :    0 ;
}

         / *   = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =           H O M E   I T E M   C A R D S   -   M I N I M A L   S T Y L E           = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =   * /         . h o m e - i t e m - c a r d    {
     :    0   0   1 8 0 p x ;
     :    1 8 0 p x ;
     :    1 8 0 p x ;
     :    p o i n t e r ;
     :                      t r a n s f o r m   0 . 4 s   c u b i c - b e z i e r ( 0 . 2 5 ,    0 . 4 6 ,    0 . 4 5 ,    0 . 9 4 ) ,                      b o x - s h a d o w   0 . 4 s   c u b i c - b e z i e r ( 0 . 2 5 ,    0 . 4 6 ,    0 . 4 5 ,    0 . 9 4 ) ;
     :    t r a n s f o r m ;
}

         . h o m e - i t e m - c a r d : h o v e r    {
     :    s c a l e ( 1 . 0 5 )   t r a n s l a t e Y ( - 6 p x ) ;
}

         . h o m e - i t e m - p o s t e r    {
     :    r e l a t i v e ;
     :    1 8 0 p x ;
     :    1 8 0 p x ;
     :    1 8 0 p x ;
     :    2 / 3 ;
     :    8 p x ;
     :    h i d d e n ;
     :    0 . 5 r e m ;
     :    # 1 1 1 ;
     :    0 ;
     :    n o n e ;
}

         . h o m e - i t e m - p o s t e r   i m g    {
     :    1 0 0 % ;
     :    1 0 0 % ;
     :    c o v e r ;
     :    n o n e ;
}

         . h o m e - i t e m - c a r d : h o v e r   . h o m e - i t e m - p o s t e r   i m g    {
     :    n o n e ;
}

         . h o m e - i t e m - h o v e r - o v e r l a y    {
     :    n o n e ;
}

         / *   G a m e s   -   A d j u s t   s i z i n g   * /     . h o m e - i t e m - c a r d - g a m e    {
     :    0   0   3 2 0 p x ;
     :    3 2 0 p x ;
     :    3 2 0 p x ;
}

         . h o m e - i t e m - c a r d - g a m e   . h o m e - i t e m - p o s t e r    {
     :    4 6 0 / 2 1 5 ;
     :    3 2 0 p x ;
     :    3 2 0 p x ;
     :    3 2 0 p x ;
     :    n o n e ;
}

         / *   I t e m   T i t l e   -   C l e a n   t y p o g r a p h y   * /     . h o m e - i t e m - t i t l e    {
     :    r g b a ( 2 5 5 ,    2 5 5 ,    2 5 5 ,    0 . 7 5 ) ;
     :    0 . 8 r e m ;
     :    4 0 0 ;
     :    0 . 3 5 r e m ;
     :    1 . 3 ;
     :    0 . 0 2 e m ;
     :    n o w r a p ;
     :    h i d d e n ;
     :    e l l i p s i s ;
}

         / *   = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =           L A T E S T   T R A I L E R S   -   M I N I M A L   C A R O U S E L           = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =   * /         . t r a i l e r - c a r o u s e l - c o n t a i n e r    {
     :    r e l a t i v e ;
     :    1 0 0 % ;
     :    4 5 0 p x ;
     :    f l e x ;
     :    c e n t e r ;
     :    c e n t e r ;
     :    v i s i b l e ;
     :    n o n e ;
     :    2 r e m ;
}

         . t r a i l e r - c a r d - 3 d    {
     :    a b s o l u t e ;
     :    6 4 0 p x ;
     :    3 6 0 p x ;
     :    # 0 0 0 ;
     :    8 p x ;
     :    n o n e ;
     :    a l l   0 . 3 s   e a s e ;
     :    p o i n t e r ;
     :    v i s i b l e ;
     :    f l e x ;
     :    c o l u m n ;
}

         . t r a i l e r - c a r d - 3 d   i m g    {
     :    1 0 0 % ;
     :    1 0 0 % ;
     :    c o v e r ;
     :    0 . 4 ;
     :    o p a c i t y   0 . 2 s   e a s e ;
     :    8 p x ;
}

         . t r a i l e r - c a r d - 3 d . a c t i v e   i m g    {
     :    1 ;
}

         . t r a i l e r - c a r d - 3 d   . p l a y - i c o n    {
     :    a b s o l u t e ;
     :    5 0 % ;
     :    5 0 % ;
     :    t r a n s l a t e ( - 5 0 % ,    - 5 0 % ) ;
     :    5 0 p x ;
     :    5 0 p x ;
     :    t r a n s p a r e n t ;
     :    1 p x   s o l i d   r g b a ( 2 5 5 ,    2 5 5 ,    2 5 5 ,    0 . 5 ) ;
     :    0 ;
     :    f l e x ;
     :    c e n t e r ;
     :    c e n t e r ;
     :    w h i t e ;
     :    2 0 p x ;
     :    0 ;
     :    a l l   0 . 2 s   e a s e ;
}

         . t r a i l e r - c a r d - 3 d . a c t i v e   . p l a y - i c o n    {
     :    1 ;
}

         . t r a i l e r - c a r d - 3 d : h o v e r   . p l a y - i c o n    {
     :    w h i t e ;
     :    t r a n s l a t e ( - 5 0 % ,    - 5 0 % ) ;
}

         . t r a i l e r - i n f o - o v e r l a y    {
     :    a b s o l u t e ;
     :    - 2 . 5 r e m ;
     :    0 ;
     :    0 ;
     :    c e n t e r ;
     :    0 . 5 r e m ;
}

         . t r a i l e r - t i t l e - 3 d    {
     :    0 . 8 5 r e m ;
     :    4 0 0 ;
     :    r g b a ( 2 5 5 ,    2 5 5 ,    2 5 5 ,    0 . 6 ) ;
     :    n o n e ;
     :    0 ;
     :    n o w r a p ;
     :    h i d d e n ;
     :    e l l i p s i s ;
     :    v a r ( - - f o n t - f a m i l y ) ;
     :    0 . 0 5 e m ;
}

         . c a r o u s e l - n a v - b t n    {
     :    a b s o l u t e ;
     :    5 0 % ;
     :    t r a n s l a t e Y ( - 5 0 % ) ;
     :    t r a n s p a r e n t ;
     :    r g b a ( 2 5 5 ,    2 5 5 ,    2 5 5 ,    0 . 4 ) ;
     :    1 p x   s o l i d   r g b a ( 2 5 5 ,    2 5 5 ,    2 5 5 ,    0 . 2 ) ;
     :    4 0 p x ;
     :    4 0 p x ;
     :    0 ;
     :    1 8 p x ;
     :    p o i n t e r ;
     :    1 0 0 ;
     :    a l l   0 . 2 s   e a s e ;
     :    f l e x ;
     :    c e n t e r ;
     :    c e n t e r ;
     :    - 5 0 p x ;
     :    - 5 0 p x ;
}

         . c a r o u s e l - n a v - b t n : h o v e r    {
     :    t r a n s p a r e n t ;
     :    w h i t e ;
     :    r g b a ( 2 5 5 ,    2 5 5 ,    2 5 5 ,    0 . 5 ) ;
}

         / *   = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =           L O A D I N G   &   E R R O R   S T A T E S           = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =   * /         . h o m e - l o a d i n g ,
     . h o m e - e r r o r    {
     :    c e n t e r ;
     :    r g b a ( 2 5 5 ,    2 5 5 ,    2 5 5 ,    0 . 4 ) ;
     :    2 r e m ;
     :    0 . 8 r e m ;
     :    0 . 1 e m ;
     :    u p p e r c a s e ;
}

         / *   = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =           R E S P O N S I V E   -   M O B I L E           = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =   * /         @ m e d i a   ( m a x - w i d t h :   7 6 8 p x )    {
                 . c a t e g o r y - p r e v i e w - b o x    {
         :    1 6 / 9 ;
    }

                     . c a t e g o r y - p r e v i e w - n a m e    {
         :    2 r e m ;
    }

                     . c a t e g o r y - b o x    {
         :    3 / 2 ;
    }

                     . c a t e g o r y - s h o r t c u t s - c a r d    {
         :    w r a p ;
         :    0 . 2 5 r e m ;
    }

                     . c a t e g o r y - b o x    {
         :    0   0   c a l c ( 5 0 %   -   0 . 1 2 5 r e m ) ;
    }

                     . h o m e - i t e m - c a r d    {
         :    0   0   1 4 0 p x ;
         :    1 4 0 p x ;
         :    1 4 0 p x ;
    }

                     . h o m e - i t e m - p o s t e r    {
         :    1 4 0 p x ;
         :    1 4 0 p x ;
         :    1 4 0 p x ;
    }

                     . t r a i l e r - c a r o u s e l - c o n t a i n e r    {
         :    3 0 0 p x ;
    }

                     . t r a i l e r - c a r d - 3 d    {
         :    9 0 v w ;

        /* Runtime Range Slider */
        .runtime-slider-container {
            position: relative;
            width: 100%;
            height: 60px;
            margin-top: 15px;
            margin-bottom: 5px;
        }

        .slider-track-bg {
            position: absolute;
            top: 25px;
            /* Vertically centered relative to container roughly */
            left: 0;
            width: 100%;
            height: 4px;
            background: #333;
            border-radius: 2px;
            z-index: 1;
        }

        .slider-track-fill {
            position: absolute;
            top: 25px;
            height: 4px;
            background: var(--dropdown-color);
            /* Uses theme color (red/blue etc) */
            border-radius: 2px;
            z-index: 2;
            /* Left and width set by JS */
        }

        .slider-range {
            -webkit-appearance: none;
            appearance: none;
            position: absolute;
            top: 12px;
            /* Aligns thumb center to track center roughly */
            left: 0;
            width: 100%;
            height: 30px;
            /* Hit area */
            background: transparent;
            pointer-events: none;
            /* Let clicks pass through logic */
            z-index: 3;
            margin: 0;
            padding: 0;
            border: none;
        }

        /* Thumb Styles - Webkit */
        .slider-range::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            pointer-events: auto;
            /* Catch clicks on thumb */
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--dropdown-color);
            border: 2px solid #fff;
            cursor: pointer;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
            margin-top: 0px;
            /* Relative to height? */
        }

        /* Thumb Styles - Firefox */
        .slider-range::-moz-range-thumb {
            pointer-events: auto;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--dropdown-color);
            border: 2px solid #fff;
            cursor: pointer;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
            border: none;
        }

        /* Focus styles */
        .slider-range:focus {
            outline: none;
        }

        .slider-ticks {
            position: absolute;
            top: 35px;
            left: 1%;
            /* Indent slightly to match thumb centers at ends */
            width: 98%;
            display: flex;
            justify-content: space-between;
            font-size: 0.7rem;
            color: #888;
        }

        .slider-ticks span {
            position: relative;
            display: flex;
            justify-content: center;
            width: 0;
            transform: translateX(0px);
            /* Adjust based on alignment? */
        }

        /* Tick notches */
        .slider-ticks span::before {
            content: '';
            position: absolute;
            top: -8px;
            width: 1px;
            height: 5px;
            background: #555;
        }

        .slider-values-display {
            position: absolute;
            top: -5px;
            right: 0;
            font-size: 0.8rem;
            font-weight: 500;
            color: var(--text-color);
        }

                 / *   = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =           R E S P O N S I V E   -   M O B I L E           = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =   * /         @ m e d i a   ( m a x - w i d t h :   7 6 8 p x )    {
                         . c a t e g o r y - p r e v i e w - b o x    {
                 :    1 6 / 9 ;
            }

                             . c a t e g o r y - p r e v i e w - n a m e    {
                 :    2 r e m ;
            }

                             . c a t e g o r y - b o x    {
                 :    3 / 2 ;
            }

                             . c a t e g o r y - s h o r t c u t s - c a r d    {
                 :    w r a p ;
                 :    0 . 2 5 r e m ;
            }

                             . c a t e g o r y - b o x    {
                 :    0   0   c a l c ( 5 0 %   -   0 . 1 2 5 r e m ) ;
            }

                             . h o m e - i t e m - c a r d    {
                 :    0   0   1 4 0 p x ;
                 :    1 4 0 p x ;
                 :    1 4 0 p x ;
            }

                             . h o m e - i t e m - p o s t e r    {
                 :    1 4 0 p x ;
                 :    1 4 0 p x ;
                 :    1 40 p x ;
            }

                             . t r a i l e r - c a r o u s e l - c o n t a i n e r    {
                 :    3 0 0 p x ;
            }

                             . t r a i l e r - c a r d - 3 d    {
                 :    9 0 v w ;
                 :    a u t o ;
                 :    1 6 / 9 ;
            }
        }

              ```